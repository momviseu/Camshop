"use strict";(self.webpackChunk_strapi_admin=self.webpackChunk_strapi_admin||[]).push([[8880],{25747:(Ue,ce,l)=>{l.d(ce,{Z:()=>Lt});var a=l(32735),$=l(83292),be=l(60216),D=l.n(be),R=l(62345),xt=l(1176),st=l(35071),Y=l(88675),Zt=l(73779),r=l(15431),A=l(22348),Me=l(7184),it=l(872),St=l(61642),xe=l(43475),At=l(89135),Ft=l(82512),Nt=l(58656),$e=l(83218),jn=l(17757),fe=l(32031),u=l(88425),qe=l.n(u),wt=Object.defineProperty,w=Object.defineProperties,Dt=Object.getOwnPropertyDescriptors,ze=Object.getOwnPropertySymbols,lt=Object.prototype.hasOwnProperty,ct=Object.prototype.propertyIsEnumerable,ut=(X,B,W)=>B in X?wt(X,B,{enumerable:!0,configurable:!0,writable:!0,value:W}):X[B]=W,je=(X,B)=>{for(var W in B||(B={}))lt.call(B,W)&&ut(X,W,B[W]);if(ze)for(var W of ze(B))ct.call(B,W)&&ut(X,W,B[W]);return X},j=(X,B)=>w(X,Dt(B)),z=(X,B)=>{var W={};for(var L in X)lt.call(X,L)&&B.indexOf(L)<0&&(W[L]=X[L]);if(X!=null&&ze)for(var L of ze(X))B.indexOf(L)<0&&ct.call(X,L)&&(W[L]=X[L]);return W};const We={biginteger:fe.Z,boolean:Zt.Z,collectionType:st.Z,component:xt.Z,contentType:st.Z,date:Y.Z,datetime:Y.Z,decimal:fe.Z,dynamiczone:r.Z,email:A.Z,enum:Me.Z,enumeration:Me.Z,file:xe.Z,files:xe.Z,float:fe.Z,integer:fe.Z,json:it.Z,JSON:it.Z,media:xe.Z,number:fe.Z,password:At.Z,relation:Ft.Z,richtext:St.Z,singleType:Nt.Z,string:$e.Z,text:$e.Z,time:Y.Z,timestamp:Y.Z,uid:jn.Z},It=(0,$.default)(R.x)`
  width: ${(0,u.pxToRem)(32)};
  height: ${(0,u.pxToRem)(24)};
  box-sizing: content-box;
`,Ve=X=>{var B=X,{type:W,customField:L}=B,ae=z(B,["type","customField"]);const ve=(0,u.useCustomFields)();let et=We[W];if(L){const{icon:dt}=ve.get(L);dt&&(et=dt)}return We[W]?a.createElement(It,j(je({as:et},ae),{"aria-hidden":!0})):null};Ve.defaultProps={customField:null},Ve.propTypes={type:D().string.isRequired,customField:D().string};const Lt=Ve},74753:(Ue,ce,l)=>{l.d(ce,{Z:()=>be});var a=l(32735);const be=(0,a.createContext)()},51216:(Ue,ce,l)=>{l.d(ce,{Z:()=>be});var a=l(32735);const be=(0,a.createContext)()},198:(Ue,ce,l)=>{l.d(ce,{Z:()=>D});var a=l(32735),$=l(74753);const D=()=>(0,a.useContext)($.Z)},32237:(Ue,ce,l)=>{l.d(ce,{Z:()=>D});var a=l(32735),$=l(51216);const D=()=>(0,a.useContext)($.Z)},32864:(Ue,ce,l)=>{l.r(ce),l.d(ce,{default:()=>hl});var a=l(32735),$=l(5141),be=l(99357),D=l(5636),R=l(88425),xt=l(96709),st=l(3633),Y=l(25158),Zt=l(60216),r=l.n(Zt),A=l(92891),Me=l(4409),it=l(13055),St=l(74753),xe=l(32237),At=l(43653),Ft=l.n(At),Nt=(e,t,n)=>new Promise((o,s)=>{var i=m=>{try{d(n.next(m))}catch(f){s(f)}},c=m=>{try{d(n.throw(m))}catch(f){s(f)}},d=m=>m.done?o(m.value):Promise.resolve(m.value).then(i,c);d((n=n.apply(e,t)).next())});const $e=Ft().create({baseURL:`http://localhost:1337/${Y.Z}`});$e.interceptors.request.use(e=>Nt(void 0,null,function*(){return e.headers={Authorization:`Bearer ${R.auth.getToken()}`,Accept:"application/json","Content-Type":"application/json"},e}),e=>{Promise.reject(e)}),$e.interceptors.response.use(e=>e,e=>{var t;throw((t=e.response)==null?void 0:t.status)===401&&(R.auth.clearAppStorage(),window.location.reload()),e});const fe=(0,R.wrapAxiosInstance)($e);var u=l(92318),qe=l(37087),wt=l(33795),w=l.n(wt),Dt=l(23973),ze=l.n(Dt),lt=l(3040),ct=l.n(lt),ut=l(59578),je=l.n(ut),j=l(62345),z=l(41415),We=l(9026),It=l(85025),Ve=l(31600),Lt=l(11406),X=l(35540),B=l(39291),W=l(3653),L=l(36320),ae=l(27677),ve=l(198),et=l(27799),dt=l(23940),Ze=l.n(dt);const Rr=[{label:"All",children:[{label:"images (JPEG, PNG, GIF, SVG, TIFF, ICO, DVU)",value:"images"},{label:"videos (MPEG, MP4, Quicktime, WMV, AVI, FLV)",value:"videos"},{label:"audios (MP3, WAV, OGG)",value:"audios"},{label:"files (CSV, ZIP, PDF, Excel, JSON, ...)",value:"files"}]}],kt=({intlLabel:e,name:t,onChange:n,value:o})=>{const{formatMessage:s}=(0,D.useIntl)(),i=o===null||o.length===0?s({id:"global.none",defaultMessage:"None"}):[...o].sort().map(d=>Ze()(d)).join(", "),c=e.id?s({id:e.id,defaultMessage:e.defaultMessage}):t;return a.createElement(et.Q,{id:"select1",label:c,customizeContent:()=>i,onChange:d=>{d.length>0?n({target:{name:t,value:d,type:"allowed-types-select"}}):n({target:{name:t,value:null,type:"allowed-types-select"}})},options:Rr,value:o||[]})};kt.defaultProps={value:null},kt.propTypes={intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}).isRequired,name:r().string.isRequired,onChange:r().func.isRequired,value:r().oneOfType([r().object,r().array])};const xr=kt;var G=l(88860);const Bn=e=>e.kind==="collectionType"&&(e.restrictRelationsTo===null||Array.isArray(e.restrictRelationsTo)&&e.restrictRelationsTo.length>0);var qt=l(15335),mt=l(5803),jt=l(861),pt=l(25747),Fe=l(83292);const Un=(0,Fe.default)(j.x)`
  width: 100%;
  height: 100%;
  border: 1px solid ${({theme:e})=>e.colors.neutral200};
  text-align: left;
  &:hover {
    background: ${({theme:e})=>e.colors.primary100};
    border: 1px solid ${({theme:e})=>e.colors.primary200};
  }
`,Bt=({type:e})=>{const{formatMessage:t}=(0,D.useIntl)(),{onClickSelectField:n}=(0,xe.Z)(),o=()=>{n({attributeType:e,step:e==="component"?"1":null})};return a.createElement(Un,{padding:4,as:"button",hasRadius:!0,type:"button",onClick:o},a.createElement(L.k,null,a.createElement(pt.Z,{type:e}),a.createElement(j.x,{paddingLeft:4},a.createElement(L.k,null,a.createElement(G.Z,{fontWeight:"bold"},t({id:(0,u.Z)(`attribute.${e}`),defaultMessage:e}))),a.createElement(L.k,null,a.createElement(G.Z,{variant:"pi",textColor:"neutral600"},t({id:(0,u.Z)(`attribute.${e}.description`),defaultMessage:"A type for modeling data"}))))))};Bt.defaultProps={type:"text"},Bt.propTypes={type:r().string};const Zr=Bt,$n=e=>{const t=e%2===1;return{paddingLeft:t?2:0,paddingRight:t?0:2}},zn=({attributes:e})=>a.createElement(jt.k,{tagName:"button"},a.createElement(ae.K,{spacing:8},e.map((t,n)=>a.createElement(qt.r,{key:n,gap:0},t.map((o,s)=>{const{paddingLeft:i,paddingRight:c}=$n(s);return a.createElement(mt.P,{key:o,col:6,style:{height:"100%"}},a.createElement(j.x,{paddingLeft:i,paddingRight:c,paddingBottom:1,style:{height:"100%"}},a.createElement(Zr,{type:o})))})))));zn.propTypes={attributes:r().array.isRequired};const Sr=zn;var Ar=l(50428),Fr=l(25148),Nr=l(99140),Be=l(19406),wr=l(54725);const Dr=(0,Fe.default)(j.x)`
  background: ${({theme:e})=>`linear-gradient(180deg, rgba(234, 234, 239, 0) 0%, ${e.colors.neutral150} 100%)`};
  opacity: 0.33;
`,Ir=()=>a.createElement(L.k,{wrap:"wrap",gap:4},[...Array(4)].map((e,t)=>a.createElement(Dr,{key:`empty-card-${t}`,height:"138px",width:"375px",hasRadius:!0}))),Lr=()=>{const{formatMessage:e}=(0,D.useIntl)();return a.createElement(j.x,{position:"relative"},a.createElement(Ir,null),a.createElement(j.x,{position:"absolute",top:6,width:"100%"},a.createElement(L.k,{alignItems:"center",justifyContent:"center",direction:"column"},a.createElement(Nr.J,{as:wr.default,color:"",width:"160px",height:"88px"}),a.createElement(j.x,{paddingTop:6,paddingBottom:4},a.createElement(j.x,{textAlign:"center"},a.createElement(G.Z,{variant:"delta",as:"p",textColor:"neutral600"},e({id:(0,u.Z)("modalForm.empty.heading"),defaultMessage:"Nothing in here yet."})),a.createElement(j.x,{paddingTop:4},a.createElement(G.Z,{variant:"delta",as:"p",textColor:"neutral600"},e({id:(0,u.Z)("modalForm.empty.sub-heading"),defaultMessage:"Find what you are looking for through a wide range of extensions."}))))),a.createElement(Fr.Q,{to:"/marketplace",variant:"secondary",startIcon:a.createElement(Be.default,null)},e({id:(0,u.Z)("modalForm.empty.button"),defaultMessage:"Add custom fields"})))))},Wn=({customFieldUid:e,customField:t})=>{const{type:n,intlLabel:o,intlDescription:s}=t,{formatMessage:i}=(0,D.useIntl)(),{onClickSelectCustomField:c}=(0,xe.Z)(),d=()=>{c({attributeType:n,customFieldUid:e})};return a.createElement(Un,{padding:4,as:"button",hasRadius:!0,type:"button",onClick:d},a.createElement(L.k,null,a.createElement(pt.Z,{type:n,customField:e}),a.createElement(j.x,{paddingLeft:4},a.createElement(L.k,null,a.createElement(G.Z,{fontWeight:"bold"},i(o))),a.createElement(L.k,null,a.createElement(G.Z,{variant:"pi",textColor:"neutral600"},i(s))))))};Wn.propTypes={customFieldUid:r().string.isRequired,customField:r().shape({type:r().string.isRequired,icon:r().func,intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired}).isRequired,intlDescription:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired}).isRequired}).isRequired};const kr=Wn,qr=()=>{const{formatMessage:e}=(0,D.useIntl)(),t=(0,R.useCustomFields)(),n=Object.entries(t.getAll());if(!n.length)return a.createElement(Lr,null);const o=n.sort((s,i)=>s[1].name>i[1].name?1:-1);return a.createElement(jt.k,{tagName:"button"},a.createElement(ae.K,{spacing:3},a.createElement(qt.r,{gap:0},o.map(([s,i],c)=>{const{paddingLeft:d,paddingRight:m}=$n(c);return a.createElement(mt.P,{key:s,col:6,style:{height:"100%"}},a.createElement(j.x,{paddingLeft:d,paddingRight:m,paddingBottom:1,style:{height:"100%"}},a.createElement(kr,{key:s,customFieldUid:s,customField:i})))})),a.createElement(Ar.r,{href:"https://docs.strapi.io/developer-docs/latest/development/custom-fields.html",isExternal:!0},e({id:(0,u.Z)("modalForm.tabs.custom.howToLink"),defaultMessage:"How to add custom fields"}))))},Vn=({attributes:e,forTarget:t,kind:n})=>{const{formatMessage:o}=(0,D.useIntl)(),s=(0,u.Z)("modalForm.tabs.default"),i=(0,u.Z)("modalForm.tabs.custom"),c=t.includes("component")?"component":n,d=(0,u.Z)(`modalForm.sub-header.chooseAttribute.${c}`);return a.createElement(Ve.f,{padding:6},a.createElement(X.v,{label:o({id:(0,u.Z)("modalForm.tabs.label"),defaultMessage:"Default and Custom types tabs"}),id:"attribute-type-tabs",variant:"simple"},a.createElement(L.k,{justifyContent:"space-between"},a.createElement(G.Z,{variant:"beta",as:"h2"},o({id:d,defaultMessage:"Select a field"})),a.createElement(B.m,null,a.createElement(B.O,null,o({id:s,defaultMessage:"Default"})),a.createElement(B.O,null,o({id:i,defaultMessage:"Custom"})))),a.createElement(j.x,{paddingBottom:6},a.createElement(We.i,null)),a.createElement(W.n,null,a.createElement(W.x,null,a.createElement(Sr,{attributes:e})),a.createElement(W.x,null,a.createElement(qr,null)))))};Vn.propTypes={attributes:r().array.isRequired,forTarget:r().string.isRequired,kind:r().string.isRequired};const jr=Vn;var Br=l(22342),Ur=l(96166),$r=l(88693),zr=l(9139),Wr=l(69932),Vr=Object.defineProperty,Gn=Object.getOwnPropertySymbols,Gr=Object.prototype.hasOwnProperty,Kr=Object.prototype.propertyIsEnumerable,Kn=(e,t,n)=>t in e?Vr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Hn=(e,t)=>{for(var n in t||(t={}))Gr.call(t,n)&&Kn(e,n,t[n]);if(Gn)for(var n of Gn(t))Kr.call(t,n)&&Kn(e,n,t[n]);return e};const Hr=(0,Fe.default)(G.Z)`
  text-align: center;
`,Ut=({description:e,disabled:t,intlLabel:n,isCreating:o,name:s,onChange:i,value:c})=>{const{formatMessage:d}=(0,D.useIntl)(),[m,f]=(0,a.useState)(!1),g=n.id?d({id:n.id,defaultMessage:n.defaultMessage},Hn({},n.values)):s,p=e?d({id:e.id,defaultMessage:e.defaultMessage},Hn({},e.values)):"",h=()=>f(S=>!S),C=()=>{i({target:{name:s,value:!1}}),h()},M=({target:{checked:S}})=>{if(!S&&!o){h();return}i({target:{name:s,value:S}})};return a.createElement(a.Fragment,null,a.createElement(zr.s,{checked:c||!1,disabled:t,hint:p,label:g,name:s,offLabel:d({id:"app.components.ToggleCheckbox.off-label",defaultMessage:"Off"}),onLabel:d({id:"app.components.ToggleCheckbox.on-label",defaultMessage:"On"}),onChange:M}),m&&a.createElement(Br.V,{onClose:h,title:"Confirmation",isOpen:m},a.createElement(Ur.a,{icon:a.createElement(Wr.default,null)},a.createElement(ae.K,{spacing:2},a.createElement(L.k,{justifyContent:"center"},a.createElement(Hr,{id:"confirm-description"},d({id:(0,u.Z)("popUpWarning.draft-publish.message"),defaultMessage:"If you disable the Draft/Publish system, your drafts will be deleted."}))),a.createElement(L.k,{justifyContent:"center"},a.createElement(G.Z,{id:"confirm-description"},d({id:(0,u.Z)("popUpWarning.draft-publish.second-message"),defaultMessage:"Are you sure you want to disable it?"}))))),a.createElement($r.c,{startAction:a.createElement(z.z,{onClick:h,variant:"tertiary"},d({id:"components.popUpWarning.button.cancel",defaultMessage:"No, cancel"})),endAction:a.createElement(z.z,{variant:"danger-light",onClick:C},d({id:(0,u.Z)("popUpWarning.draft-publish.button.confirm"),defaultMessage:"Yes, disable"}))})))};Ut.defaultProps={description:null,disabled:!1,value:!1},Ut.propTypes={description:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}),disabled:r().bool,intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}).isRequired,isCreating:r().bool.isRequired,name:r().string.isRequired,onChange:r().func.isRequired,value:r().bool};const Xr=Ut;var $t=l(11299),Xn=l(55225);const zt=({actionType:e,attributeName:t,attributeType:n,categoryName:o,contentTypeKind:s,dynamicZoneTarget:i,forTarget:c,modalType:d,targetUid:m,customFieldUid:f})=>{var g;const{formatMessage:p}=(0,D.useIntl)(),{modifiedData:h}=(0,ve.Z)();let C,M=[];const S=((g=h==null?void 0:h[c])==null?void 0:g[m])||(h==null?void 0:h[c])||null;let I=S==null?void 0:S.schema.displayName;if(d==="contentType"&&(C=s),["component","editCategory"].includes(d)&&(C="component"),["component","contentType"].includes(d)){let v=(0,u.Z)(`modalForm.component.header-${e}`);return d==="contentType"&&(v=(0,u.Z)(`modalForm.${s}.header-create`)),e==="edit"&&(v=(0,u.Z)("modalForm.header-edit")),a.createElement(Xn.x,null,a.createElement(L.k,null,a.createElement(j.x,null,a.createElement(pt.Z,{type:C})),a.createElement(j.x,{paddingLeft:3},a.createElement(G.Z,{fontWeight:"bold",textColor:"neutral800",as:"h2",id:"title"},p({id:v},{name:I})))))}M=[{label:I,info:{category:(S==null?void 0:S.category)||null,name:S==null?void 0:S.schema.displayName}}],d==="chooseAttribute"&&(C=["component","components"].includes(c)?"component":S.schema.kind),d==="addComponentToDynamicZone"&&(C="dynamiczone",M.push({label:i})),(d==="attribute"||d==="customField")&&(C=n,M.push({label:t})),d==="editCategory"&&(M=[{label:p({id:(0,u.Z)("modalForm.header.categories"),defaultMessage:"Categories"})},{label:o}]);const E=M.map(({label:v})=>v).join(",");return a.createElement(Xn.x,null,a.createElement(ae.K,{horizontal:!0,spacing:3},a.createElement(pt.Z,{type:C,customField:f}),a.createElement($t.O,{label:E},M.map((v,K)=>{var q;const te=Ze()(v.label);if(!te)return null;const N=`${v.label}.${K}`;if((q=v.info)!=null&&q.category){const J=`${te} (${Ze()(v.info.category)} - ${Ze()(v.info.name)})`;return a.createElement($t.$,{key:N},J)}return a.createElement($t.$,{key:N},te)}))))};zt.defaultProps={actionType:null,attributeName:null,attributeType:null,categoryName:null,dynamicZoneTarget:null,forTarget:null,contentTypeKind:null,targetUid:null,customFieldUid:null},zt.propTypes={actionType:r().string,attributeName:r().string,attributeType:r().string,categoryName:r().string,contentTypeKind:r().string,dynamicZoneTarget:r().string,forTarget:r().oneOf(["contentType","component","components"]),modalType:r().string.isRequired,targetUid:r().string,customFieldUid:r().string};const Yr=zt,Wt=({categoryName:e,deleteCategory:t,deleteComponent:n,deleteContentType:o,isAttributeModal:s,isCustomFieldModal:i,isComponentAttribute:c,isComponentToDzModal:d,isContentTypeModal:m,isCreatingComponent:f,isCreatingComponentAttribute:g,isCreatingComponentInDz:p,isCreatingComponentWhileAddingAField:h,isCreatingContentType:C,isCreatingDz:M,isComponentModal:S,isDzAttribute:I,isEditingAttribute:Z,isEditingCategory:E,isInFirstComponentStep:v,onSubmitAddComponentAttribute:K,onSubmitAddComponentToDz:q,onSubmitCreateContentType:te,onSubmitCreateComponent:N,onSubmitCreateDz:J,onSubmitEditAttribute:de,onSubmitEditCategory:oe,onSubmitEditComponent:se,onSubmitEditContentType:pe,onSubmitEditCustomFieldAttribute:Pe,onSubmitEditDz:Ye,onClickFinish:we})=>{const{formatMessage:U}=(0,D.useIntl)();return d?p?a.createElement(z.z,{variant:"secondary",type:"submit",onClick:O=>{O.preventDefault(),q(O,!0)},startIcon:a.createElement(Be.default,null)},U({id:(0,u.Z)("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"})):a.createElement(z.z,{variant:"default",type:"submit",onClick:O=>{O.preventDefault(),q(O,!1)}},U({id:"global.finish",defaultMessage:"Finish"})):s&&I&&!M?a.createElement(z.z,{variant:"default",type:"submit",onClick:O=>{O.preventDefault(),we(),Ye(O,!1)}},U({id:"global.finish",defaultMessage:"Finish"})):s&&I&&M?a.createElement(a.Fragment,null,a.createElement(z.z,{variant:"secondary",type:"submit",onClick:O=>{O.preventDefault(),J(O,!0)},startIcon:a.createElement(Be.default,null)},U({id:(0,u.Z)("form.button.add-components-to-dynamiczone"),defaultMessage:"Add components to the zone"}))):s&&c?v?a.createElement(z.z,{variant:"secondary",type:"submit",onClick:O=>{O.preventDefault(),K(O,!0)}},U(g?{id:(0,u.Z)("form.button.configure-component"),defaultMessage:"Configure the component"}:{id:(0,u.Z)("form.button.select-component"),defaultMessage:"Configure the component"})):a.createElement(a.Fragment,null,a.createElement(z.z,{variant:"secondary",type:"submit",onClick:O=>{O.preventDefault(),K(O,!0)},startIcon:a.createElement(Be.default,null)},U(h?{id:(0,u.Z)("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"}:{id:(0,u.Z)("form.button.add-field"),defaultMessage:"Add another field"})),a.createElement(z.z,{variant:"default",type:"button",onClick:O=>{O.preventDefault(),we(),K(O,!1)}},U({id:"global.finish",defaultMessage:"Finish"}))):s&&!c&&!I?a.createElement(a.Fragment,null,a.createElement(z.z,{type:Z?"button":"submit",variant:"secondary",onClick:O=>{O.preventDefault(),de(O,!0)},startIcon:a.createElement(Be.default,null)},U({id:(0,u.Z)("form.button.add-field"),defaultMessage:"Add another field"})),a.createElement(z.z,{type:Z?"submit":"button",variant:"default",onClick:O=>{O.preventDefault(),we(),de(O,!1)}},U({id:"global.finish",defaultMessage:"Finish"}))):m?a.createElement(a.Fragment,null,!C&&a.createElement(a.Fragment,null,a.createElement(z.z,{type:"button",variant:"danger",onClick:O=>{O.preventDefault(),o()}},U({id:"global.delete",defaultMessage:"Delete"})),a.createElement(z.z,{type:"submit",variant:"default",onClick:O=>{O.preventDefault(),pe(O,!1)}},U({id:"global.finish",defaultMessage:"Finish"}))),C&&a.createElement(z.z,{type:"submit",variant:"secondary",onClick:O=>{O.preventDefault(),te(O,!0)}},U({id:"global.continue",defaultMessage:"Continue"}))):S?a.createElement(a.Fragment,null,!f&&a.createElement(a.Fragment,null,a.createElement(z.z,{type:"button",variant:"danger",onClick:O=>{O.preventDefault(),n()}},U({id:"global.delete",defaultMessage:"Delete"})),a.createElement(z.z,{type:"submit",variant:"default",onClick:O=>{O.preventDefault(),se(O,!1)}},U({id:"global.finish",defaultMessage:"Finish"}))),f&&a.createElement(z.z,{type:"submit",variant:"secondary",onClick:O=>{O.preventDefault(),N(O,!0)}},U({id:"global.continue",defaultMessage:"Continue"}))):E?a.createElement(a.Fragment,null,a.createElement(z.z,{type:"button",variant:"danger",onClick:O=>{O.preventDefault(),t(e)}},U({id:"global.delete",defaultMessage:"Delete"})),a.createElement(z.z,{type:"submit",variant:"default",onClick:O=>{O.preventDefault(),oe(O)}},U({id:"global.finish",defaultMessage:"finish"}))):i?a.createElement(a.Fragment,null,a.createElement(z.z,{type:Z?"button":"submit",variant:"secondary",onClick:O=>{O.preventDefault(),Pe(O,!0)},startIcon:a.createElement(Be.default,null)},U({id:(0,u.Z)("form.button.add-field"),defaultMessage:"Add another field"})),a.createElement(z.z,{type:Z?"submit":"button",variant:"default",onClick:O=>{O.preventDefault(),we(),Pe(O,!1)}},U({id:"global.finish",defaultMessage:"Finish"}))):null};Wt.defaultProps={categoryName:null,onClickFinish(){}},Wt.propTypes={categoryName:r().string,deleteCategory:r().func.isRequired,deleteComponent:r().func.isRequired,deleteContentType:r().func.isRequired,isAttributeModal:r().bool.isRequired,isCustomFieldModal:r().bool.isRequired,isComponentAttribute:r().bool.isRequired,isComponentModal:r().bool.isRequired,isComponentToDzModal:r().bool.isRequired,isContentTypeModal:r().bool.isRequired,isCreatingComponent:r().bool.isRequired,isCreatingComponentAttribute:r().bool.isRequired,isCreatingComponentInDz:r().bool.isRequired,isCreatingComponentWhileAddingAField:r().bool.isRequired,isCreatingContentType:r().bool.isRequired,isCreatingDz:r().bool.isRequired,isDzAttribute:r().bool.isRequired,isEditingAttribute:r().bool.isRequired,isEditingCategory:r().bool.isRequired,isInFirstComponentStep:r().bool.isRequired,onSubmitAddComponentAttribute:r().func.isRequired,onSubmitAddComponentToDz:r().func.isRequired,onSubmitCreateContentType:r().func.isRequired,onSubmitCreateComponent:r().func.isRequired,onSubmitCreateDz:r().func.isRequired,onSubmitEditAttribute:r().func.isRequired,onSubmitEditCategory:r().func.isRequired,onSubmitEditComponent:r().func.isRequired,onSubmitEditContentType:r().func.isRequired,onSubmitEditCustomFieldAttribute:r().func.isRequired,onSubmitEditDz:r().func.isRequired,onClickFinish:r().func};const Qr=Wt,Jr=({modalType:e,forTarget:t,kind:n,actionType:o,step:s})=>{switch(e){case"chooseAttribute":return(0,u.Z)(`modalForm.sub-header.chooseAttribute.${t.includes("component")?"component":n||"collectionType"}`);case"attribute":return(0,u.Z)(`modalForm.sub-header.attribute.${o}${s!=="null"&&s!==null&&o!=="edit"?".step":""}`);case"customField":return(0,u.Z)(`modalForm.sub-header.attribute.${o}`);case"addComponentToDynamicZone":return(0,u.Z)("modalForm.sub-header.addComponentToDynamicZone");default:return(0,u.Z)("configurations")}},Vt=({actionType:e,modalType:t,forTarget:n,kind:o,step:s,attributeType:i,attributeName:c,customField:d})=>{const{formatMessage:m}=(0,D.useIntl)(),f=t==="customField"?d.intlLabel:{id:(0,u.Z)(`attribute.${i}`)};return a.createElement(ae.K,{direction:"column",alignItems:"flex-start",paddingBottom:2,gap:1},a.createElement(G.Z,{as:"h2",variant:"beta"},m({id:Jr({actionType:e,forTarget:n,kind:o,step:s,modalType:t}),defaultMessage:"Add new field"},{type:Ze()(m(f)),name:Ze()(c),step:s})),a.createElement(G.Z,{variant:"pi",textColor:"neutral600"},m({id:(0,u.Z)(`attribute.${i}.description`),defaultMessage:"A type for modeling data"})))};Vt.defaultProps={actionType:null,modalType:null,forTarget:null,kind:null,step:null,attributeType:null,attributeName:null,customField:null},Vt.propTypes={actionType:r().string,modalType:r().string,forTarget:r().string,kind:r().string,step:r().string,attributeType:r().string,attributeName:r().string,customField:r().object};const _r=Vt;var gt=l(70218),ft=l(84967),eo=Object.defineProperty,Yn=Object.getOwnPropertySymbols,to=Object.prototype.hasOwnProperty,no=Object.prototype.propertyIsEnumerable,Qn=(e,t,n)=>t in e?eo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ao=(e,t)=>{for(var n in t||(t={}))to.call(t,n)&&Qn(e,n,t[n]);if(Yn)for(var n of Yn(t))no.call(t,n)&&Qn(e,n,t[n]);return e};const Gt=({intlLabel:e,name:t,options:n,onChange:o,value:s})=>{const{formatMessage:i}=(0,D.useIntl)(),c=e.id?i({id:e.id,defaultMessage:e.defaultMessage},ao({},e.values)):t,d=m=>{let f="";m==="true"&&(f=!0),m==="false"&&(f=!1),o({target:{name:t,value:f,type:"select-default-boolean"}})};return a.createElement(gt.P,{label:c,id:t,name:t,onChange:d,value:(s===null?"":s).toString()},n.map(({metadatas:{intlLabel:m,disabled:f,hidden:g},key:p,value:h})=>a.createElement(ft.W,{key:p,value:h,disabled:f,hidden:g},m.defaultMessage)))};Gt.defaultProps={value:null},Gt.propTypes={intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}).isRequired,name:r().string.isRequired,onChange:r().func.isRequired,options:r().arrayOf(r().shape({metadatas:r().shape({intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired}).isRequired,disabled:r().bool,hidden:r().bool}).isRequired,key:r().oneOfType([r().string,r().number]).isRequired,value:r().oneOfType([r().string,r().number]).isRequired}).isRequired).isRequired,value:r().any};const ro=Gt;var oo=l(30350);const so=(0,Fe.default)(ae.K)`
  position: relative;
  align-items: stretch;

  label {
    border-radius: 4px;
    max-width: 50%;
    cursor: pointer;
    user-select: none;
    flex: 1;
    ${(0,oo.k3)()}
  }

  input {
    position: absolute;
    opacity: 0;
  }

  .option {
    height: 100%;
    border-radius: 4px;
    border: 1px solid ${({theme:e})=>e.colors.neutral200};
    will-change: transform, opacity;
    background: ${({theme:e})=>e.colors.neutral0};

    .checkmark {
      position: relative;
      display: block;
      will-change: transform;
      background: ${({theme:e})=>e.colors.neutral0};
      width: ${({theme:e})=>e.spaces[5]};
      height: ${({theme:e})=>e.spaces[5]};
      border: solid 1px ${({theme:e})=>e.colors.neutral300};
      border-radius: 50%;

      &:before,
      &:after {
        content: '';
        display: block;
        border-radius: 50%;
        width: ${({theme:e})=>e.spaces[3]};
        height: ${({theme:e})=>e.spaces[3]};
        position: absolute;
        top: 3px;
        left: 3px;
      }

      &:after {
        transform: scale(0);
        transition: inherit;
        will-change: transform;
      }
    }
  }

  .container input:checked ~ div {
    background: ${({theme:e})=>e.colors.primary100};
    ${G.Z} {
      color: ${({theme:e})=>e.colors.primary600};
    }
    border: 1px solid ${({theme:e})=>e.colors.primary200};
    .checkmark {
      border: solid 1px ${({theme:e})=>e.colors.primary600};
      &::after {
        background: ${({theme:e})=>e.colors.primary600};
        transform: scale(1);
      }
    }
  }
`,Kt=({intlLabel:e,name:t,onChange:n,radios:o,value:s})=>{const{formatMessage:i}=(0,D.useIntl)();return a.createElement(ae.K,{spacing:2},a.createElement(G.Z,{variant:"pi",fontWeight:"bold",textColor:"neutral800",htmlFor:t,as:"label"},i(e)),a.createElement(so,{horizontal:!0,spacing:4,style:{alignItems:"stretch"}},o.map(c=>a.createElement("label",{htmlFor:c.value.toString(),key:c.value,className:"container"},a.createElement("input",{id:c.value.toString(),name:t,className:"option-input",checked:c.value===s,value:c.value,key:c.value,onChange:n,type:"radio"}),a.createElement(j.x,{className:"option",padding:4},a.createElement(L.k,null,a.createElement(j.x,{paddingRight:4},a.createElement("span",{className:"checkmark"})),a.createElement(ae.K,{spacing:2},a.createElement(G.Z,{fontWeight:"bold"},i(c.title)),a.createElement(G.Z,{variant:"pi",textColor:"neutral600"},i(c.description)))))))))};Kt.defaultProps={radios:[]},Kt.propTypes={intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}).isRequired,name:r().string.isRequired,onChange:r().func.isRequired,radios:r().arrayOf(r().shape({title:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired}),description:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired}),value:r().any.isRequired})),value:r().oneOfType([r().string,r().bool]).isRequired};const Ht=Kt;var io=Object.defineProperty,lo=Object.defineProperties,co=Object.getOwnPropertyDescriptors,yt=Object.getOwnPropertySymbols,Jn=Object.prototype.hasOwnProperty,_n=Object.prototype.propertyIsEnumerable,ea=(e,t,n)=>t in e?io(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,uo=(e,t)=>{for(var n in t||(t={}))Jn.call(t,n)&&ea(e,n,t[n]);if(yt)for(var n of yt(t))_n.call(t,n)&&ea(e,n,t[n]);return e},mo=(e,t)=>lo(e,co(t)),po=(e,t)=>{var n={};for(var o in e)Jn.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&yt)for(var o of yt(e))t.indexOf(o)<0&&_n.call(e,o)&&(n[o]=e[o]);return n};const ta=e=>{var t=e,{onChange:n,name:o}=t,s=po(t,["onChange","name"]);const i=c=>{const d=c.target.value!=="false";n({target:{name:o,value:d,type:"boolean-radio-group"}})};return a.createElement(Ht,mo(uo({},s),{name:o,onChange:i}))};ta.propTypes={name:r().string.isRequired,onChange:r().func.isRequired};const go=ta;var fo=l(8284),yo=l(75294),Xt=l(10369),ho=Object.defineProperty,na=Object.getOwnPropertySymbols,bo=Object.prototype.hasOwnProperty,vo=Object.prototype.propertyIsEnumerable,aa=(e,t,n)=>t in e?ho(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,To=(e,t)=>{for(var n in t||(t={}))bo.call(t,n)&&aa(e,n,t[n]);if(na)for(var n of na(t))vo.call(t,n)&&aa(e,n,t[n]);return e};const Yt=({error:e,intlLabel:t,modifiedData:n,name:o,onChange:s,value:i})=>{const{formatMessage:c}=(0,D.useIntl)(),[d,m]=(0,a.useState)(!!i||i===0),f=t.id?c({id:t.id,defaultMessage:t.defaultMessage},To({},t.values)):o,g=n.type==="biginteger"?"text":"number",p=!n.type,h=e?c({id:e,defaultMessage:e}):"";return a.createElement(ae.K,{spacing:2},a.createElement(fo.X,{id:o,name:o,onValueChange:C=>{s({target:{name:o,value:C?g==="text"?"0":0:null}}),m(I=>!I)},value:d},f),d&&a.createElement(j.x,{paddingLeft:6,style:{maxWidth:"200px"}},g==="text"?a.createElement(Xt.o,{"aria-label":f,disabled:p,error:h,id:o,name:o,onChange:s,value:i===null?"":i}):a.createElement(yo.Y,{"aria-label":f,disabled:p,error:h,id:o,name:o,onValueChange:C=>{s({target:{name:o,value:C,type:g}})},value:i||0})))};Yt.defaultProps={error:null,value:null},Yt.propTypes={error:r().string,intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}).isRequired,modifiedData:r().object.isRequired,name:r().string.isRequired,onChange:r().func.isRequired,value:r().oneOfType([r().string,r().object,r().bool,r().number])};const Co=Yt;var Eo=Object.defineProperty,Mo=Object.defineProperties,Oo=Object.getOwnPropertyDescriptors,ht=Object.getOwnPropertySymbols,ra=Object.prototype.hasOwnProperty,oa=Object.prototype.propertyIsEnumerable,sa=(e,t,n)=>t in e?Eo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Po=(e,t)=>{for(var n in t||(t={}))ra.call(t,n)&&sa(e,n,t[n]);if(ht)for(var n of ht(t))oa.call(t,n)&&sa(e,n,t[n]);return e},Ro=(e,t)=>Mo(e,Oo(t)),xo=(e,t)=>{var n={};for(var o in e)ra.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&ht)for(var o of ht(e))t.indexOf(o)<0&&oa.call(e,o)&&(n[o]=e[o]);return n};const ia=e=>{var t=e,{onChange:n}=t,o=xo(t,["onChange"]);const s=(0,R.useNotification)(),i=c=>{s({type:"info",message:{id:(0,u.Z)("contentType.kind.change.warning"),defaultMessage:"You just changed the kind of a content type: API will be reset (routes, controllers, and services will be overwritten)."}}),n(c)};return a.createElement(Ht,Ro(Po({},o),{onChange:i}))};ia.propTypes={onChange:r().func.isRequired};const Zo=ia;var So=l(54450),Ao=l(61774),Fo=l(50563),No=l(6792),wo=l(10504);const Do=(e,t,n)=>e+t*n,Io=(0,Fe.default)(L.k)`
  svg {
    z-index: 2;
    color: ${({isSelected:e,theme:t})=>e?t.colors.primary600:t.colors.neutral300};
  }
  ${({isSelected:e,theme:t})=>e?`
      &::after {
        content: '';
        position: absolute;
        top: 8px;
        left: 8px;
        border-radius: 50%;
        width: 28px;
        height: 28px;
        background-color: ${t.colors.primary200};
        z-index: 1;
      }
    `:""}
`,Qt=42,bt=18,Jt=({error:e,intlLabel:t,name:n,onChange:o,value:s})=>{const{allIcons:i}=(0,ve.Z)(),{formatMessage:c}=(0,D.useIntl)(),d=(0,a.useRef)(),[m,f]=(0,a.useState)(!1),[g,p]=(0,a.useState)(""),[h,C]=(0,a.useState)(i),M=()=>f(E=>!E);(0,a.useEffect)(()=>{m&&d.current.querySelector("input").focus()},[m]);const S=({target:{value:E}})=>{p(E),C(()=>i.filter(v=>v.includes(E)))},I=({columnIndex:E,rowIndex:v,style:K})=>{const q=h[Do(E,v,bt)];return a.createElement("div",{style:K,key:`col-${E}`},q&&a.createElement(Io,{style:{width:"100%",height:"100%"},alignItems:"center",justifyContent:"center",onClick:()=>{o({target:{name:n,value:q}})},isSelected:q===s,as:"button",type:"button"},a.createElement(wo.G,{icon:q})))},Z=e?c({id:e,defaultMessage:e}):"";return a.createElement(j.x,null,a.createElement(ae.K,{spacing:1},a.createElement(L.k,{justifyContent:"space-between"},a.createElement(G.Z,{variant:"pi",fontWeight:"bold",textColor:"neutral800",htmlFor:n,as:"label"},c(t)),m?a.createElement("div",{ref:d,style:{width:206}},a.createElement(Ao.w,{name:"searchbar",onBlur:()=>{g||M()},onClear:()=>{p(""),C(i),M()},value:g,onChange:S,clearLabel:"Clearing the icon search",placeholder:c({id:(0,u.Z)("ComponentIconPicker.search.placeholder"),defaultMessage:"Search for an icon"}),size:"S"},c({id:(0,u.Z)("ComponentIconPicker.search.placeholder"),defaultMessage:"Search for an icon"}))):a.createElement(Fo.h,{onClick:M,"aria-label":"Edit",icon:a.createElement(No.default,null),noBorder:!0})),a.createElement(ae.K,{spacing:1},a.createElement(j.x,{padding:1,background:"neutral100",borderColor:e?"danger600":"",hasRadius:!0},a.createElement(So.Ym,{columnCount:bt,columnWidth:Qt,height:132,rowHeight:Qt,rowCount:Math.ceil(h.length/bt),width:Qt*bt},I)),e&&a.createElement(G.Z,{variant:"pi",id:`${n}-error`,textColor:"danger600","data-strapi-field-error":!0},Z))))};Jt.defaultProps={error:null},Jt.propTypes={error:r().string,intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}).isRequired,name:r().string.isRequired,onChange:r().func.isRequired,value:r().string.isRequired};const Lo=Jt;var _t=l(49561),la=l(34853),_=l(91559);const en=({oneThatIsCreatingARelationWithAnother:e,target:t})=>{const{contentTypes:n,sortedContentTypesList:o}=(0,ve.Z)(),s=(0,Me.useDispatch)(),i=o.filter(Bn),c=w()(n,[t,"plugin"],null),d=w()(n,[t,"schema","displayName"],"error");return a.createElement(la.O,{id:"label",label:`${d}
    ${c?`(from: ${c})`:""}`},i.map(({uid:m,title:f,restrictRelationsTo:g,plugin:p})=>{const h=()=>{const C=p?`${p}_${f}`:f;s({type:_.aG,target:{value:m,oneThatIsCreatingARelationWithAnother:e,selectedContentTypeFriendlyName:C,targetContentTypeAllowedRelations:g}})};return a.createElement(la.s,{key:m,onClick:h},f,"\xA0",p&&a.createElement(a.Fragment,null,"(from: ",p,")"))}))};en.defaultProps={target:null},en.propTypes={oneThatIsCreatingARelationWithAnother:r().string.isRequired,target:r().string};const ko=en,tn=({disabled:e,error:t,header:n,isMain:o,name:s,onChange:i,oneThatIsCreatingARelationWithAnother:c,target:d,value:m})=>a.createElement(j.x,{background:"neutral100",hasRadius:!0,borderColor:"neutral200"},a.createElement(L.k,{paddingTop:o?4:1,paddingBottom:o?3:1,justifyContent:"center"},o?a.createElement(G.Z,{variant:"pi",fontWeight:"bold",textColor:"neutral800"},n):a.createElement(ko,{target:d,oneThatIsCreatingARelationWithAnother:c})),a.createElement(We.i,{background:"neutral200"}),a.createElement(j.x,{padding:4},a.createElement(R.GenericInput,{disabled:e,error:(t==null?void 0:t.id)||null,intlLabel:{id:(0,u.Z)("form.attribute.item.defineRelation.fieldName"),defaultMessage:"Field name"},name:s,onChange:i,type:"text",value:m})));tn.defaultProps={disabled:!1,error:null,header:null,isMain:!1,onChange(){},oneThatIsCreatingARelationWithAnother:null,target:null,value:""},tn.propTypes={disabled:r().bool,error:r().object,header:r().string,isMain:r().bool,name:r().string.isRequired,onChange:r().func,oneThatIsCreatingARelationWithAnother:r().string,target:r().string,value:r().string};const ca=tn;var qo=l(51382),ua=l.n(qo),jo=l(24443),nn=l.n(jo),Bo=l(10168),Uo=l(25449),$o=l(32548),zo=l(7733),Wo=l(79634),Vo=l(26253);const Go=(0,Fe.default)(j.x)`
  position: relative;
  width: 100%;
  &::before {
    content: '';
    position: absolute;
    top: calc(50% - 0px);
    height: 2px;
    width: 100%;
    background-color: ${({theme:e})=>e.colors.primary600};
    z-index: 0;
  }
`,Ko=(0,Fe.default)(j.x)`
  background: ${({theme:e,isSelected:t})=>e.colors[t?"primary100":"neutral0"]};
  border: 1px solid
    ${({theme:e,isSelected:t})=>e.colors[t?"primary700":"neutral200"]};
  border-radius: ${({theme:e})=>e.borderRadius};
  z-index: 1;
  svg {
    width: 1.5rem;
    height: 100%;
    path {
      fill: ${({theme:e,isSelected:t})=>e.colors[t?"primary700":"neutral500"]};
    }
  }
  &:disabled {
    cursor: not-allowed;
  }
`,Ho=(0,Fe.default)(L.k)`
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
`,Xo={oneWay:Uo.Z,oneToOne:Bo.Z,oneToMany:zo.Z,manyToOne:Wo.Z,manyToMany:Vo.Z,manyWay:$o.Z},an=({naturePickerType:e,oneThatIsCreatingARelationWithAnother:t,relationType:n,target:o})=>{const s=(0,Me.useDispatch)(),{formatMessage:i}=(0,D.useIntl)(),{contentTypes:c,modifiedData:d}=(0,ve.Z)(),m=["oneWay","oneToOne","oneToMany","manyToOne","manyToMany","manyWay"],f=["oneWay","manyWay"],p=(e==="contentType"?w()(d,[e,"schema","kind"],""):e)==="collectionType"?m:f,h=n==="manyToOne",C=w()(c,[o,"schema","displayName"],"unknown"),M=h?C:t,S=h?t:C,I=nn()(M,n==="manyToMany"?2:1),Z=w()(c,[o,"schema","restrictRelationsTo"],null),E=nn()(S,["manyToMany","oneToMany","manyToOne","manyWay"].includes(n)?2:1);return n?a.createElement(L.k,{style:{flex:1}},a.createElement(Go,null,a.createElement(L.k,{paddingLeft:9,paddingRight:9,paddingTop:1,justifyContent:"center"},a.createElement(jt.k,{tagName:"button"},a.createElement(ae.K,{spacing:3,horizontal:!0},p.map(v=>{const K=Xo[v],q=Z===null||Z.includes(v);return a.createElement(Ko,{as:"button",isSelected:n===v,disabled:!q,key:v,onClick:()=>{q&&s({type:_.QQ,target:{oneThatIsCreatingARelationWithAnother:t,targetContentType:o,value:v}})},padding:2,type:"button"},a.createElement(K,{key:v}))}))))),a.createElement(Ho,{justifyContent:"center"},a.createElement(G.Z,null,ua()(I,{length:24}),"\xA0"),a.createElement(G.Z,{textColor:"primary600"},i({id:(0,u.Z)(`relation.${n}`)}),"\xA0"),a.createElement(G.Z,null,ua()(E,{length:24})))):null};an.defaultProps={relationType:null,target:null},an.propTypes={naturePickerType:r().string.isRequired,oneThatIsCreatingARelationWithAnother:r().string.isRequired,relationType:r().string,target:r().string};const Yo=an,da=({formErrors:e,mainBoxHeader:t,modifiedData:n,naturePickerType:o,onChange:s})=>{const i=(0,_t.Z)(n.relation,n.targetAttribute);return a.createElement(L.k,{style:{position:"relative"}},a.createElement(ca,{isMain:!0,header:t,error:(e==null?void 0:e.name)||null,name:"name",onChange:s,value:(n==null?void 0:n.name)||""}),a.createElement(Yo,{naturePickerType:o,oneThatIsCreatingARelationWithAnother:t,relationType:i,target:n.target}),a.createElement(ca,{disabled:["oneWay","manyWay"].includes(i),error:(e==null?void 0:e.targetAttribute)||null,name:"targetAttribute",onChange:s,oneThatIsCreatingARelationWithAnother:t,target:n.target,value:(n==null?void 0:n.targetAttribute)||""}))};da.propTypes={formErrors:r().object.isRequired,mainBoxHeader:r().string.isRequired,modifiedData:r().object.isRequired,naturePickerType:r().string.isRequired,onChange:r().func.isRequired};const Qo=da;var ma=l(45251),Jo=Object.defineProperty,pa=Object.getOwnPropertySymbols,_o=Object.prototype.hasOwnProperty,es=Object.prototype.propertyIsEnumerable,ga=(e,t,n)=>t in e?Jo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ts=(e,t)=>{for(var n in t||(t={}))_o.call(t,n)&&ga(e,n,t[n]);if(pa)for(var n of pa(t))es.call(t,n)&&ga(e,n,t[n]);return e};const rn=({description:e,error:t,intlLabel:n,modifiedData:o,name:s,onChange:i,value:c})=>{const{formatMessage:d}=(0,D.useIntl)(),m=(0,a.useRef)(i),f=(o==null?void 0:o.displayName)||"";(0,a.useEffect)(()=>{if(f){const C=(0,ma.Z)(f);try{const M=nn()(C,2);m.current({target:{name:s,value:M}})}catch(M){m.current({target:{name:s,value:C}})}}else m.current({target:{name:s,value:""}})},[f,s]);const g=t?d({id:t,defaultMessage:t}):"",p=e?d({id:e.id,defaultMessage:e.defaultMessage},ts({},e.values)):"",h=d(n);return a.createElement(Xt.o,{error:g,label:h,id:s,hint:p,name:s,onChange:i,value:c||""})};rn.defaultProps={description:null,error:null,value:null},rn.propTypes={description:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}),error:r().string,intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}).isRequired,modifiedData:r().object.isRequired,name:r().string.isRequired,onChange:r().func.isRequired,value:r().string};const ns=rn;var as=l(21590),rs=l(90333);const on=({error:e,intlLabel:t,name:n,onChange:o,value:s})=>{const{formatMessage:i}=(0,D.useIntl)(),{allComponentsCategories:c}=(0,ve.Z)(),[d,m]=(0,a.useState)(c),f=e?i({id:e,defaultMessage:e}):"",g=i(t),p=C=>{o({target:{name:n,value:C,type:"select-category"}})},h=C=>{m(M=>[...M,C]),p(C)};return a.createElement(as.X,{error:f,id:n,label:g,name:n,onChange:p,onCreateOption:h,value:s},d.map(C=>a.createElement(rs.O,{key:C,value:C},C)))};on.defaultProps={error:null,value:null},on.propTypes={error:r().string,intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}).isRequired,name:r().string.isRequired,onChange:r().func.isRequired,value:r().string};const os=on,sn=({error:e,intlLabel:t,isAddingAComponentToAnotherComponent:n,isCreating:o,isCreatingComponentWhileAddingAField:s,componentToCreate:i,name:c,onChange:d,targetUid:m,forTarget:f,value:g})=>{const{formatMessage:p}=(0,D.useIntl)(),h=e?p({id:e,defaultMessage:e}):"",C=p(t),{componentsGroupedByCategory:M,componentsThatHaveOtherComponentInTheirAttributes:S}=(0,ve.Z)(),I=["component","components"].includes(f);let Z=Object.entries(M).reduce((E,v)=>{const[K,q]=v,te=q.map(N=>({uid:N.uid,label:N.schema.displayName,categoryName:K}));return[...E,...te]},[]);return n&&(Z=Z.filter(E=>!S.includes(E.uid))),I&&(Z=Z.filter(E=>E.uid!==m)),s&&(Z=[{uid:g,label:i.displayName,categoryName:i.category}]),a.createElement(gt.P,{disabled:s||!o,error:h,label:C,id:c,name:c,onChange:E=>{d({target:{name:c,value:E,type:"select-category"}})},value:g||""},Z.map(E=>a.createElement(ft.W,{key:E.uid,value:E.uid},`${E.categoryName} - ${E.label}`)))};sn.defaultProps={componentToCreate:null,error:null},sn.propTypes={componentToCreate:r().object,forTarget:r().string.isRequired,error:r().string,intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}).isRequired,isAddingAComponentToAnotherComponent:r().bool.isRequired,isCreating:r().bool.isRequired,isCreatingComponentWhileAddingAField:r().bool.isRequired,name:r().string.isRequired,onChange:r().func.isRequired,targetUid:r().string.isRequired,value:r().string.isRequired};const ss=sn,ln=(e,t)=>e.find(({name:n})=>n===t),fa=({dynamicZoneTarget:e,intlLabel:t,name:n,onChange:o,value:s})=>{const{formatMessage:i}=(0,D.useIntl)(),{componentsGroupedByCategory:c,modifiedData:d}=(0,ve.Z)(),f=(ln(d.contentType.schema.attributes,e)||{}).components||[],g=Object.keys(c).reduce((C,M)=>{const S=c[M].filter(({uid:I})=>!f.includes(I));return S.length>0&&(C[M]=S),C},{}),p=Object.entries(g).reduce((C,M)=>{const[S,I]=M,Z={label:S,children:I.map(({uid:E,schema:{displayName:v}})=>({label:v,value:E}))};return C.push(Z),C},[]),h=i({id:(0,u.Z)("components.SelectComponents.displayed-value"),defaultMessage:"{number, plural, =0 {# components} one {# component} other {# components}} selected"},{number:s.length});return a.createElement(et.Q,{id:"select1",label:i(t),customizeContent:()=>h,name:n,onChange:C=>{o({target:{name:n,value:C,type:"select-components"}})},options:p,value:s||[]})};fa.propTypes={intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}).isRequired,dynamicZoneTarget:r().string.isRequired,name:r().string.isRequired,onChange:r().func.isRequired,value:r().array.isRequired};const is=fa,cn=({intlLabel:e,error:t,modifiedData:n,name:o,onChange:s,options:i,value:c})=>{const{formatMessage:d}=(0,D.useIntl)(),m=d(e),f=t?d({id:t,defaultMessage:t}):"",g=p=>{s({target:{name:o,value:p,type:"select"}}),!!c&&n.default!==void 0&&n.default!==null&&s({target:{name:"default",value:null}})};return a.createElement(gt.P,{error:f,label:m,id:o,name:o,onChange:g,value:c||""},i.map(({metadatas:{intlLabel:p,disabled:h,hidden:C},key:M,value:S})=>a.createElement(ft.W,{key:M,value:S,disabled:h,hidden:C},d({id:p.id,defaultMessage:p.defaultMessage},p.values))))};cn.defaultProps={error:void 0,value:""},cn.propTypes={error:r().string,intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}).isRequired,modifiedData:r().object.isRequired,name:r().string.isRequired,onChange:r().func.isRequired,options:r().arrayOf(r().shape({metadatas:r().shape({intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired}).isRequired,disabled:r().bool,hidden:r().bool}).isRequired,key:r().oneOfType([r().string,r().number]).isRequired,value:r().oneOfType([r().string,r().number]).isRequired}).isRequired).isRequired,value:r().string};const ls=cn,un=({intlLabel:e,error:t,modifiedData:n,name:o,onChange:s,options:i,value:c})=>{const{formatMessage:d}=(0,D.useIntl)(),m=d(e),f=t?d({id:t,defaultMessage:t}):"",g=p=>{s({target:{name:o,value:p,type:"select"}}),c&&(p==="biginteger"&&c!=="biginteger"&&(n.default!==void 0&&n.default!==null&&s({target:{name:"default",value:null}}),n.max!==void 0&&n.max!==null&&s({target:{name:"max",value:null}}),n.min!==void 0&&n.min!==null&&s({target:{name:"min",value:null}})),["decimal","float","integer"].includes(p)&&c==="biginteger"&&(n.default!==void 0&&n.default!==null&&s({target:{name:"default",value:null}}),n.max!==void 0&&n.max!==null&&s({target:{name:"max",value:null}}),n.min!==void 0&&n.min!==null&&s({target:{name:"min",value:null}})))};return a.createElement(gt.P,{error:f,label:m,id:o,name:o,onChange:g,value:c||""},i.map(({metadatas:{intlLabel:p,disabled:h,hidden:C},key:M,value:S})=>a.createElement(ft.W,{key:M,value:S,disabled:h,hidden:C},d(p))))};un.defaultProps={error:void 0,value:""},un.propTypes={error:r().string,intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}).isRequired,modifiedData:r().object.isRequired,name:r().string.isRequired,onChange:r().func.isRequired,options:r().arrayOf(r().shape({metadatas:r().shape({intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired}).isRequired,disabled:r().bool,hidden:r().bool}).isRequired,key:r().oneOfType([r().string,r().number]).isRequired,value:r().oneOfType([r().string,r().number]).isRequired}).isRequired).isRequired,value:r().string};const cs=un;var us=Object.defineProperty,ya=Object.getOwnPropertySymbols,ds=Object.prototype.hasOwnProperty,ms=Object.prototype.propertyIsEnumerable,ha=(e,t,n)=>t in e?us(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ps=(e,t)=>{for(var n in t||(t={}))ds.call(t,n)&&ha(e,n,t[n]);if(ya)for(var n of ya(t))ms.call(t,n)&&ha(e,n,t[n]);return e};const dn=({description:e,error:t,intlLabel:n,modifiedData:o,name:s,onChange:i,value:c})=>{const{formatMessage:d}=(0,D.useIntl)(),m=(0,a.useRef)(i),f=(o==null?void 0:o.displayName)||"";(0,a.useEffect)(()=>{f?m.current({target:{name:s,value:(0,ma.Z)(f)}}):m.current({target:{name:s,value:""}})},[f,s]);const g=t?d({id:t,defaultMessage:t}):"",p=e?d({id:e.id,defaultMessage:e.defaultMessage},ps({},e.values)):"",h=d(n);return a.createElement(Xt.o,{error:g,label:h,id:s,hint:p,name:s,onChange:i,value:c||""})};dn.defaultProps={description:null,error:null,value:null},dn.propTypes={description:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}),error:r().string,intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}).isRequired,modifiedData:r().object.isRequired,name:r().string.isRequired,onChange:r().func.isRequired,value:r().string};const gs=dn;var fs=Object.defineProperty,ys=Object.defineProperties,hs=Object.getOwnPropertyDescriptors,ba=Object.getOwnPropertySymbols,bs=Object.prototype.hasOwnProperty,vs=Object.prototype.propertyIsEnumerable,va=(e,t,n)=>t in e?fs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ta=(e,t)=>{for(var n in t||(t={}))bs.call(t,n)&&va(e,n,t[n]);if(ba)for(var n of ba(t))vs.call(t,n)&&va(e,n,t[n]);return e},Ts=(e,t)=>ys(e,hs(t));const Ca=({form:e,formErrors:t,genericInputProps:n,modifiedData:o,onChange:s})=>{const{formatMessage:i}=(0,D.useIntl)();return e.map((c,d)=>c.items.length===0?null:a.createElement(j.x,{key:d},c.sectionTitle&&a.createElement(j.x,{paddingBottom:4},a.createElement(G.Z,{variant:"delta",as:"h3"},i(c.sectionTitle))),a.createElement(qt.r,{gap:4},c.items.map((m,f)=>{const g=`${d}.${f}`,p=w()(o,m.name,""),h=Object.keys(t).find(M=>M===m.name),C=h?t[h].id:w()(t,[...m.name.split(".").filter(M=>M!=="componentToCreate"),"id"],null);return m.type==="pushRight"?a.createElement(mt.P,{col:m.size||6,key:m.name||g},a.createElement("div",null)):a.createElement(mt.P,{col:m.size||6,key:m.name||g},a.createElement(R.GenericInput,Ts(Ta(Ta({},m),n),{error:C,onChange:s,value:p})))}))))};Ca.propTypes={form:r().arrayOf(r().object).isRequired,formErrors:r().object.isRequired,genericInputProps:r().object.isRequired,modifiedData:r().object.isRequired,onChange:r().func.isRequired};const Ea=Ca;var Cs=l(10508),Es=Object.defineProperty,Ma=Object.getOwnPropertySymbols,Ms=Object.prototype.hasOwnProperty,Os=Object.prototype.propertyIsEnumerable,Oa=(e,t,n)=>t in e?Es(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Pa=(e,t)=>{for(var n in t||(t={}))Ms.call(t,n)&&Oa(e,n,t[n]);if(Ma)for(var n of Ma(t))Os.call(t,n)&&Oa(e,n,t[n]);return e};const mn=({description:e,disabled:t,error:n,intlLabel:o,labelAction:s,name:i,onChange:c,placeholder:d,value:m})=>{const{formatMessage:f}=(0,D.useIntl)(),g=n?f({id:n,defaultMessage:n}):"",p=e?f({id:e.id,defaultMessage:e.defaultMessage},Pa({},e.values)):"",h=f(o),C=d?f({id:d.id,defaultMessage:d.defaultMessage},Pa({},d.values)):"",M=Array.isArray(m)?m.join(`
`):"",S=I=>{const Z=I.target.value.split(`
`);c({target:{name:i,value:Z}})};return a.createElement(Cs.g,{disabled:t,error:g,label:h,labelAction:s,id:i,hint:p,name:i,onChange:S,placeholder:C,value:M},M)};mn.defaultProps={description:null,disabled:!1,error:"",labelAction:void 0,placeholder:null,value:""},mn.propTypes={description:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}),disabled:r().bool,error:r().string,intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}).isRequired,labelAction:r().element,name:r().string.isRequired,onChange:r().func.isRequired,placeholder:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}),value:r().oneOfType([r().array,r().string])};const Ps=mn,Rs=(e,t)=>{const n=w()(e,["contentType","schema","kind"],"");return n==="singleType"||n===t.kind?!0:w()(e,["contentType","schema","attributes"],[]).filter(({relation:i,type:c,targetAttribute:d})=>{const m=(0,_t.Z)(i,d);return c==="relation"&&!["oneWay","manyWay"].includes(m)}).length===0},xs=(e="",t,n)=>{const o=["text","email","richtext","password","number","enumeration","date","media","boolean","json","relation"],s=e==="contentType",i=n.includes(t),c=!s&&!i;return s?[[...o,"uid"],["component","dynamiczone"]]:c?[o,["component"]]:[o]},Ra=e=>e.reduce((t,n)=>{const o=n.items.reduce((s,i)=>(i.name&&s.push(i.name),s),[]);return[...t,...o]},[]);var b=l(5173),Ge=l(2158);const Zs={base:{sections:[{sectionTitle:null,items:[{autoFocus:!0,name:"name",type:"text",intlLabel:{id:"global.name",defaultMessage:"Name"},description:{id:(0,u.Z)("modalForm.editCategory.base.name.description"),defaultMessage:"No space is allowed for the name of the category"}}]}]}},xa=/^[A-Za-z][-_0-9A-Za-z]*$/,Ss=e=>{const t={name:b.Z_().matches(xa,R.translatedErrors.regex).test({name:"nameNotAllowed",message:R.translatedErrors.unique,test(n){return n?!e.includes((0,A.toLower)(n)):!1}}).required(R.translatedErrors.required)};return b.Ry(t)},As=(e,t,n)=>{const o={displayName:b.Z_().test({name:"nameAlreadyUsed",message:R.translatedErrors.unique,test(s){if(!s)return!1;const i=(0,Ge.N)(s,n);return!e.includes(i)}}).test({name:"nameNotAllowed",message:(0,u.Z)("error.contentTypeName.reserved-name"),test(s){return s?!t.includes((0,A.toLower)((0,A.trim)(s))):!1}}).required(R.translatedErrors.required),category:b.Z_().matches(xa,R.translatedErrors.regex).required(R.translatedErrors.required),icon:b.Z_()};return b.Ry(o)},pn={intlLabel:{id:"global.type",defaultMessage:"Type"},name:"createComponent",type:"boolean-radio-group",size:12,radios:[{title:{id:(0,u.Z)("form.attribute.component.option.create"),defaultMessage:"Create a new component"},description:{id:(0,u.Z)("form.attribute.component.option.create.description"),defaultMessage:"A component is shared across types and components, it will be available and accessible everywhere."},value:!0},{title:{id:(0,u.Z)("form.attribute.component.option.reuse-existing"),defaultMessage:"Use an existing component"},description:{id:(0,u.Z)("form.attribute.component.option.reuse-existing.description"),defaultMessage:"Reuse a component already created to keep your data consistent across content-types."},value:!1}]},Ke={base(e=""){return[{sectionTitle:null,items:[{name:`${e}displayName`,type:"text",intlLabel:{id:(0,u.Z)("contentType.displayName.label"),defaultMessage:"Display Name"}},{name:`${e}category`,type:"select-category",intlLabel:{id:(0,u.Z)("modalForm.components.create-component.category.label"),defaultMessage:"Select a category or enter a name to create a new one"}}]},{sectionTitle:null,items:[{name:`${e}icon`,type:"component-icon-picker",size:12,intlLabel:{id:(0,u.Z)("modalForm.components.icon.label"),defaultMessage:"Icon"}}]}]},advanced(){return[]}},x={default:{name:"default",type:"text",intlLabel:{id:(0,u.Z)("form.attribute.settings.default"),defaultMessage:"Default value"}},max:{name:"max",type:"checkbox-with-number-field",intlLabel:{id:(0,u.Z)("form.attribute.item.maximum"),defaultMessage:"Maximum value"}},maxLength:{name:"maxLength",type:"checkbox-with-number-field",intlLabel:{id:(0,u.Z)("form.attribute.item.maximumLength"),defaultMessage:"Maximum length"}},min:{name:"min",type:"checkbox-with-number-field",intlLabel:{id:(0,u.Z)("form.attribute.item.minimum"),defaultMessage:"Minimum value"}},minLength:{name:"minLength",type:"checkbox-with-number-field",intlLabel:{id:(0,u.Z)("form.attribute.item.minimumLength"),defaultMessage:"Minimum length"}},private:{name:"private",type:"checkbox",intlLabel:{id:(0,u.Z)("form.attribute.item.privateField"),defaultMessage:"Private field"},description:{id:(0,u.Z)("form.attribute.item.privateField.description"),defaultMessage:"This field will not show up in the API response"}},regex:{intlLabel:{id:(0,u.Z)("form.attribute.item.text.regex"),defaultMessage:"RegExp pattern"},name:"regex",type:"text",description:{id:(0,u.Z)("form.attribute.item.text.regex.description"),defaultMessage:"The text of the regular expression"}},required:{name:"required",type:"checkbox",intlLabel:{id:(0,u.Z)("form.attribute.item.requiredField"),defaultMessage:"Required field"},description:{id:(0,u.Z)("form.attribute.item.requiredField.description"),defaultMessage:"You won't be able to create an entry if this field is empty"}},unique:{name:"unique",type:"checkbox",intlLabel:{id:(0,u.Z)("form.attribute.item.uniqueField"),defaultMessage:"Unique field"},description:{id:(0,u.Z)("form.attribute.item.uniqueField.description"),defaultMessage:"You won't be able to create an entry if there is an existing entry with identical content"}}};var Fs=Object.defineProperty,Ns=Object.defineProperties,ws=Object.getOwnPropertyDescriptors,Za=Object.getOwnPropertySymbols,Ds=Object.prototype.hasOwnProperty,Is=Object.prototype.propertyIsEnumerable,Sa=(e,t,n)=>t in e?Fs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gn=(e,t)=>{for(var n in t||(t={}))Ds.call(t,n)&&Sa(e,n,t[n]);if(Za)for(var n of Za(t))Is.call(t,n)&&Sa(e,n,t[n]);return e},fn=(e,t)=>Ns(e,ws(t));const Ls={boolean(){return{sections:[{sectionTitle:null,items:[{autoFocus:!0,type:"select-default-boolean",intlLabel:{id:(0,u.Z)("form.attribute.settings.default"),defaultMessage:"Default value"},name:"default",options:[{value:"true",key:"true",metadatas:{intlLabel:{id:"true",defaultMessage:"true"}}},{value:"",key:"null",metadatas:{intlLabel:{id:"null",defaultMessage:"null"}}},{value:"false",key:"false",metadatas:{intlLabel:{id:"false",defaultMessage:"false"}}}]}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[x.required,x.private]}]}},component({repeatable:e},t){return t==="1"?{sections:Ke.advanced("componentToCreate")}:e?{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[x.required,x.private,x.max,x.min]}]}:{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[x.required,x.private]}]}},date({type:e}){return{sections:[{sectionTitle:null,items:[fn(gn({},x.default),{type:e||"date",value:null,withDefaultValue:!1,disabled:!e,autoFocus:!1})]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[x.required,x.unique,x.private]}]}},dynamiczone(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[x.required,x.max,x.min]}]}},email(){return{sections:[{sectionTitle:null,items:[fn(gn({},x.default),{type:"email"})]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[x.required,x.unique,x.maxLength,x.minLength,x.private]}]}},enumeration(e){return{sections:[{sectionTitle:null,items:[{name:"default",type:"select",intlLabel:{id:(0,u.Z)("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{},options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"}}},...(e.enum||[]).filter((t,n)=>e.enum.indexOf(t)===n&&t).map(t=>({key:t,value:t,metadatas:{intlLabel:{id:`${t}.no-override`,defaultMessage:t}}}))]},{intlLabel:{id:(0,u.Z)("form.attribute.item.enumeration.graphql"),defaultMessage:"Name override for GraphQL"},name:"enumName",type:"text",validations:{},description:{id:(0,u.Z)("form.attribute.item.enumeration.graphql.description"),defaultMessage:"Allows you to override the default generated name for GraphQL"}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[x.required,x.private]}]}},json(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[x.required,x.private]}]}},media(){return{sections:[{sectionTitle:null,items:[{intlLabel:{id:(0,u.Z)("form.attribute.media.allowed-types"),defaultMessage:"Select allowed types of media"},name:"allowedTypes",type:"allowed-types-select",size:7,value:"",validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[x.required,x.private]}]}},number(e){const t=e.type==="decimal"||e.type==="float"?"any":1;return{sections:[{sectionTitle:null,items:[{autoFocus:!0,name:"default",type:e.type==="biginteger"?"text":"number",step:t,intlLabel:{id:(0,u.Z)("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[x.required,x.unique,x.max,x.min,x.private]}]}},password(){return{sections:[{sectionTitle:null,items:[x.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[x.required,x.maxLength,x.minLength,x.private]}]}},relation(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[x.private]}]}},richtext(){return{sections:[{sectionTitle:null,items:[x.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[x.required,x.maxLength,x.minLength,x.private]}]}},text(){return{sections:[{sectionTitle:null,items:[x.default,x.regex]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[x.required,x.unique,x.maxLength,x.minLength,x.private]}]}},uid(e){return{sections:[{sectionTitle:null,items:[fn(gn({},x.default),{disabled:Boolean(e.targetField),type:"text"})]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[x.required,x.maxLength,x.minLength,x.private]}]}}},Oe={name:"name",type:"text",intlLabel:{id:"global.name",defaultMessage:"Name"},description:{id:(0,u.Z)("modalForm.attribute.form.base.name.description"),defaultMessage:"No space is allowed for the name of the attribute"}};var ks=Object.defineProperty,qs=Object.defineProperties,js=Object.getOwnPropertyDescriptors,Aa=Object.getOwnPropertySymbols,Bs=Object.prototype.hasOwnProperty,Us=Object.prototype.propertyIsEnumerable,Fa=(e,t,n)=>t in e?ks(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$s=(e,t)=>{for(var n in t||(t={}))Bs.call(t,n)&&Fa(e,n,t[n]);if(Aa)for(var n of Aa(t))Us.call(t,n)&&Fa(e,n,t[n]);return e},zs=(e,t)=>qs(e,js(t));const Na={advanced:Ls,base:{component(e,t){if(t==="1"){const n=e.createComponent===!0?Ke.base("componentToCreate."):[];return{sections:[{sectionTitle:null,items:[pn]},...n]}}return{sections:[{sectionTitle:null,items:[Oe,{name:"component",type:"select-component",intlLabel:{id:(0,u.Z)("modalForm.attributes.select-component"),defaultMessage:"Select a component"},isMultiple:!1}]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"repeatable",type:"boolean-radio-group",size:12,radios:[{title:{id:(0,u.Z)("form.attribute.component.option.repeatable"),defaultMessage:"Repeatable component"},description:{id:(0,u.Z)("form.attribute.component.option.repeatable.description"),defaultMessage:"Best for multiple instances (array) of ingredients, meta tags, etc.."},value:!0},{title:{id:(0,u.Z)("form.attribute.component.option.single"),defaultMessage:"Single component"},description:{id:(0,u.Z)("form.attribute.component.option.single.description"),defaultMessage:"Best for grouping fields like full address, main information, etc..."},value:!1}]}]}]}},date(){return{sections:[{sectionTitle:null,items:[Oe,{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",type:"select-date",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"date",value:"date",metadatas:{intlLabel:{id:(0,u.Z)("form.attribute.item.date.type.date"),defaultMessage:"date (ex: 01/01/{currentYear})",values:{currentYear:new Date().getFullYear()}}}},{key:"datetime",value:"datetime",metadatas:{intlLabel:{id:(0,u.Z)("form.attribute.item.date.type.datetime"),defaultMessage:"datetime (ex: 01/01/{currentYear} 00:00 AM)",values:{currentYear:new Date().getFullYear()}}}},{key:"time",value:"time",metadatas:{intlLabel:{id:(0,u.Z)("form.attribute.item.date.type.time"),defaultMessage:"time (ex: 00:00 AM)"}}}]}]}]}},enumeration(){return{sections:[{sectionTitle:null,items:[Oe]},{sectionTitle:null,items:[{name:"enum",type:"textarea-enum",size:6,intlLabel:{id:(0,u.Z)("form.attribute.item.enumeration.rules"),defaultMessage:"Values (one line per value)"},placeholder:{id:(0,u.Z)("form.attribute.item.enumeration.placeholder"),defaultMessage:`Ex:
morning
noon
evening`},validations:{required:!0}}]}]}},media(){return{sections:[{sectionTitle:null,items:[Oe]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"multiple",size:12,type:"boolean-radio-group",radios:[{title:{id:(0,u.Z)("form.attribute.media.option.multiple"),defaultMessage:"Multiple media"},description:{id:(0,u.Z)("form.attribute.media.option.multiple.description"),defaultMessage:"Best for sliders, carousels or multiple files download"},value:!0},{title:{id:(0,u.Z)("form.attribute.media.option.single"),defaultMessage:"Single media"},description:{id:(0,u.Z)("form.attribute.media.option.single.description"),defaultMessage:"Best for avatar, profile picture or cover"},value:!1}]}]}]}},number(){return{sections:[{sectionTitle:null,items:[Oe,{intlLabel:{id:(0,u.Z)("form.attribute.item.number.type"),defaultMessage:"Number format"},name:"type",type:"select-number",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"integer",value:"integer",metadatas:{intlLabel:{id:(0,u.Z)("form.attribute.item.number.type.integer"),defaultMessage:"integer (ex: 10)"}}},{key:"biginteger",value:"biginteger",metadatas:{intlLabel:{id:(0,u.Z)("form.attribute.item.number.type.biginteger"),defaultMessage:"biginteger (ex: 123456789)"}}},{key:"decimal",value:"decimal",metadatas:{intlLabel:{id:(0,u.Z)("form.attribute.item.number.type.decimal"),defaultMessage:"decimal (ex: 2.22)"}}},{key:"float",value:"float",metadatas:{intlLabel:{id:(0,u.Z)("form.attribute.item.number.type.float"),defaultMessage:"decimal (ex: 3.3333333)"}}}]}]}]}},relation(){return{sections:[{sectionTitle:null,items:[{intlLabel:{id:"FIXME",defaultMessage:"FIXME"},name:"relation",size:12,type:"relation"}]}]}},string(){return{sections:[{sectionTitle:null,items:[Oe]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:(0,u.Z)("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:(0,u.Z)("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:(0,u.Z)("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:(0,u.Z)("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}},text(){return{sections:[{sectionTitle:null,items:[Oe]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:(0,u.Z)("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:(0,u.Z)("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:(0,u.Z)("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:(0,u.Z)("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}},uid(e,t,n){const o=n.filter(({type:s})=>["string","text"].includes(s)).map(({name:s})=>({key:s,value:s,metadatas:{intlLabel:{id:`${s}.no-override`,defaultMessage:s}}}));return{sections:[{sectionTitle:null,items:[zs($s({},Oe),{placeholder:{id:(0,u.Z)("modalForm.attribute.form.base.name.placeholder"),defaultMessage:"e.g. Slug, SEO URL, Canonical URL"}}),{intlLabel:{id:(0,u.Z)("modalForm.attribute.target-field"),defaultMessage:"Attached field"},name:"targetField",type:"select",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"global.none",defaultMessage:"None"}}},...o]}]}]}}}},Ws={sections:[{sectionTitle:null,items:[Oe]}]};var Vs=l(91815),Gs=l.n(Vs),Ks=l(40791),Hs=l.n(Ks);const yn=e=>Hs()(e,{decamelize:!1,lowercase:!1,separator:"_"}),wa=/^[A-Za-z][_0-9A-Za-z]*$/,Da=e=>({name:"attributeNameAlreadyUsed",message:R.translatedErrors.unique,test(t){return t?!e.includes(t):!1}}),tc=(e,t,n)=>{const o=get(e,["schema","attributes"],{});return Object.keys(o).filter(s=>t?s!==n:!0)},hn=e=>({name:"forbiddenAttributeName",message:(0,u.Z)("error.attributeName.reserved-name"),test(t){return t?!e.includes(t):!1}}),y={default:()=>b.Z_().nullable(),max:()=>b.Rx().integer().nullable(),min:()=>b.Rx().integer().when("max",(e,t)=>e?t.max(e,(0,u.Z)("error.validation.minSupMax")):t).nullable(),maxLength:()=>b.Rx().integer().positive((0,u.Z)("error.validation.positive")).nullable(),minLength:()=>b.Rx().integer().min(0).when("maxLength",(e,t)=>e?t.max(e,(0,u.Z)("error.validation.minSupMax")):t).nullable(),name(e,t){return b.Z_().test(Da(e)).test(hn(t)).matches(wa,R.translatedErrors.regex).required(R.translatedErrors.required)},required:()=>b.O7(),type:()=>b.Z_().required(R.translatedErrors.required),unique:()=>b.O7().nullable()},bn=(e,t)=>({name:y.name(e,t),type:y.type(),default:y.default(),unique:y.unique(),required:y.required(),maxLength:y.maxLength(),minLength:y.minLength(),regex:b.Z_().test({name:"isValidRegExpPattern",message:(0,u.Z)("error.validation.regex"),test(o){return new RegExp(o)!==null}}).nullable()}),vn={name:"isMinSuperiorThanMax",message:(0,u.Z)("error.validation.minSupMax"),test(e){if(!e)return!0;const{max:t}=this.parent;return!t||Number.isNaN((0,A.toNumber)(e))?!0:(0,A.toNumber)(t)>=(0,A.toNumber)(e)}},Tn={date(e,t){const n={name:y.name(e,t),type:y.type()};return b.Ry(n)},datetime(e,t){const n={name:y.name(e,t),type:y.type()};return b.Ry(n)},time(e,t){const n={name:y.name(e,t),type:y.type()};return b.Ry(n)},default(e,t){const n={name:y.name(e,t),type:y.type()};return b.Ry(n)},biginteger(e,t){const n={name:y.name(e,t),type:y.type(),default:b.Z_().nullable().matches(/^-?\d*$/),unique:y.unique(),required:y.required(),max:b.Z_().nullable().matches(/^-?\d*$/,R.translatedErrors.regex),min:b.Z_().nullable().test(vn).matches(/^-?\d*$/,R.translatedErrors.regex)};return b.Ry(n)},boolean(e,t){const n={name:y.name(e,t),default:b.O7().nullable(),required:y.required(),unique:y.unique()};return b.Ry(n)},component(e,t){const n={name:y.name(e,t),type:y.type(),required:y.required(),max:y.max(),min:y.min(),component:b.Z_().required(R.translatedErrors.required)};return b.Ry(n)},decimal(e,t){const n={name:y.name(e,t),type:y.type(),default:b.Rx(),required:y.required(),max:b.Rx(),min:b.Rx().test(vn)};return b.Ry(n)},dynamiczone(e,t){const n={name:y.name(e,t),type:y.type(),required:y.required(),max:y.max(),min:y.min()};return b.Ry(n)},email(e,t){const n={name:y.name(e,t),type:y.type(),default:b.Z_().email().nullable(),unique:y.unique(),required:y.required(),maxLength:y.maxLength(),minLength:y.minLength()};return b.Ry(n)},enumeration(e,t){const n=/^[_A-Za-z][_0-9A-Za-z]*$/,o={name:b.Z_().test(Da(e)).test(hn(t)).matches(n,R.translatedErrors.regex).required(R.translatedErrors.required),type:y.type(),default:y.default(),unique:y.unique(),required:y.required(),enum:b.IX().of(b.Z_()).min(1,R.translatedErrors.min).test({name:"areEnumValuesUnique",message:(0,u.Z)("error.validation.enum-duplicate"),test(s){return!Gs()(s.map(yn).filter((c,d,m)=>m.indexOf(c)!==d)).length}}).test({name:"doesNotHaveEmptyValues",message:(0,u.Z)("error.validation.enum-empty-string"),test:s=>!s.map(yn).some(i=>i==="")}).test({name:"doesMatchRegex",message:(0,u.Z)("error.validation.enum-regex"),test:s=>s.map(yn).every(i=>n.test(i))}),enumName:b.Z_().nullable()};return b.Ry(o)},float(e,t){const n={name:y.name(e,t),type:y.type(),required:y.required(),default:b.Rx(),max:b.Rx(),min:b.Rx().test(vn)};return b.Ry(n)},integer(e,t){const n={name:y.name(e,t),type:y.type(),default:b.Rx().integer(),unique:y.unique(),required:y.required(),max:y.max(),min:y.min()};return b.Ry(n)},json(e,t){const n={name:y.name(e,t),type:y.type(),required:y.required(),unique:y.unique()};return b.Ry(n)},media(e,t){const n={name:y.name(e,t),type:y.type(),multiple:b.O7(),required:y.required(),allowedTypes:b.IX().of(b.Z_().oneOf(["images","videos","files","audios"])).min(1).nullable()};return b.Ry(n)},password(e,t){const n={name:y.name(e,t),type:y.type(),default:y.default(),unique:y.unique(),required:y.required(),maxLength:y.maxLength(),minLength:y.minLength()};return b.Ry(n)},relation(e,t,n,{initialData:o,modifiedData:s}){const i={name:y.name(e,t),target:b.Z_().required(R.translatedErrors.required),relation:b.Z_().required(),type:b.Z_().required(),targetAttribute:b.Vo(()=>{const c=(0,_t.Z)(s.relation,s.targetAttribute);if(c==="oneWay"||c==="manyWay")return b.Z_().nullable();let d=b.Z_().test(hn(t)),f=[...n.map(({name:g})=>g),s.name].filter(g=>g!==o.targetAttribute);return d.matches(wa,R.translatedErrors.regex).test({name:"forbiddenTargetAttributeName",message:(0,u.Z)("error.validation.relation.targetAttribute-taken"),test(g){return g?!f.includes(g):!1}}).required(R.translatedErrors.required)})};return b.Ry(i)},richtext(e,t){const n={name:y.name(e,t),type:y.type(),default:y.default(),unique:y.unique(),required:y.required(),maxLength:y.maxLength(),minLength:y.minLength()};return b.Ry(n)},string(e,t){const n=bn(e,t);return b.Ry(n)},text(e,t){const n=bn(e,t);return b.Ry(n)},uid(e,t){const n=bn(e,t);return b.Ry(n)}},Ia={name:"displayName",type:"text",intlLabel:{id:(0,u.Z)("contentType.displayName.label"),defaultMessage:"Display name"}},Cn={advanced:{default(){return{sections:[{sectionTitle:{id:(0,u.Z)("form.contentType.divider.draft-publish"),defaultMessage:"Draft/Publish"},items:[{intlLabel:{id:(0,u.Z)("contentType.draftAndPublish.label"),defaultMessage:"Draft/publish system"},description:{id:(0,u.Z)("contentType.draftAndPublish.description"),defaultMessage:"Write a draft version of each entry before publishing it"},name:"draftAndPublish",type:"toggle-draft-publish",validations:{}}]}]}}},base:{create(){return{sections:[{sectionTitle:null,items:[Ia,{description:{id:(0,u.Z)("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:(0,u.Z)("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text-singular"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{description:{id:(0,u.Z)("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:(0,u.Z)("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text-plural"}]}]}},edit(){return{sections:[{sectionTitle:null,items:[Ia,{disabled:!0,description:{id:(0,u.Z)("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:(0,u.Z)("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{disabled:!0,description:{id:(0,u.Z)("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:(0,u.Z)("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text"},{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"kind",type:"content-type-radio-group",size:12,radios:[{title:{id:(0,u.Z)("form.button.collection-type.name"),defaultMessage:"Collection Type"},description:{id:(0,u.Z)("form.button.collection-type.description"),defaultMessage:"Best for multiple instances like articles, products, comments, etc."},value:"collectionType"},{title:{id:(0,u.Z)("form.button.single-type.name"),defaultMessage:"Single Type"},description:{id:(0,u.Z)("form.button.single-type.description"),defaultMessage:"Best for single instance like about us, homepage, etc."},value:"singleType"}]}]}]}}}},Xs=({usedContentTypeNames:e=[],reservedModels:t=[],singularNames:n=[],pluralNames:o=[]})=>{const s={displayName:b.Z_().test({name:"nameAlreadyUsed",message:R.translatedErrors.unique,test(i){if(!i)return!1;const c=(0,Ge.E)(i);return!e.includes(c)}}).test({name:"nameNotAllowed",message:(0,u.Z)("error.contentTypeName.reserved-name"),test(i){return i?!t.includes((0,A.toLower)((0,A.trim)(i))):!1}}).required(R.translatedErrors.required),pluralName:b.Z_().test({name:"pluralNameAlreadyUsed",message:R.translatedErrors.unique,test(i){return i?!o.includes(i):!1}}).test({name:"pluralAndSingularAreUnique",message:(0,u.Z)("error.contentType.pluralName-used"),test(i,c){return i?c.parent.singularName!==i:!1}}).test({name:"pluralNameNotAllowed",message:(0,u.Z)("error.contentTypeName.reserved-name"),test(i){return i?!t.includes((0,A.toLower)((0,A.trim)(i))):!1}}).required(R.translatedErrors.required),singularName:b.Z_().test({name:"singularNameAlreadyUsed",message:R.translatedErrors.unique,test(i){return i?!n.includes(i):!1}}).test({name:"pluralAndSingularAreUnique",message:(0,u.Z)("error.contentType.singularName-used"),test(i,c){return i?c.parent.pluralName!==i:!1}}).test({name:"singularNameNotAllowed",message:(0,u.Z)("error.contentTypeName.reserved-name"),test(i){return i?!t.includes((0,A.toLower)((0,A.trim)(i))):!1}}).required(R.translatedErrors.required),draftAndPublish:b.O7(),kind:b.Z_().oneOf(["singleType","collectionType"])};return b.Ry(s)},En={advanced:{default(){return{sections:Ke.advanced("componentToCreate.")}}},base:{createComponent(){return{sections:[{sectionTitle:null,items:[pn]},...Ke.base("componentToCreate.")]}},default(){return{sections:[{sectionTitle:null,items:[pn]},{sectionTitle:null,items:[{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{name:"components",type:"select-components",intlLabel:{id:(0,u.Z)("modalForm.attributes.select-components"),defaultMessage:"Select the components"},isMultiple:!0}]}]}}}},La=(e,t)=>{e.forEach(n=>{if(!("sectionTitle"in n)){t[0].items.push(n);return}t.push(n)})},ka=(e,t)=>e.filter(({name:n})=>n!==t.initialData.name).map(({name:n})=>n);var qa=l(98399),Ys=Object.defineProperty,Qs=Object.defineProperties,Js=Object.getOwnPropertyDescriptors,vt=Object.getOwnPropertySymbols,ja=Object.prototype.hasOwnProperty,Ba=Object.prototype.propertyIsEnumerable,Ua=(e,t,n)=>t in e?Ys(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Mn=(e,t)=>{for(var n in t||(t={}))ja.call(t,n)&&Ua(e,n,t[n]);if(vt)for(var n of vt(t))Ba.call(t,n)&&Ua(e,n,t[n]);return e},_s=(e,t)=>Qs(e,Js(t)),On=(e,t)=>{var n={};for(var o in e)ja.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&vt)for(var o of vt(e))t.indexOf(o)<0&&Ba.call(e,o)&&(n[o]=e[o]);return n};const Ne={customField:{schema({schemaAttributes:e,attributeType:t,customFieldValidator:n,reservedNames:o,schemaData:s,ctbFormsAPI:i}){const c=ka(e,s),d=Tn[t](c,o.attributes);return i.makeCustomFieldValidator(d,n,c,o.attributes,s)},form:{base({customField:e}){var t;const n=[{sectionTitle:null,items:[Oe]}];return(t=e.options)!=null&&t.base&&La(e.options.base,n),{sections:n}},advanced(e){var t=e,{customField:n,data:o,step:s,extensions:i}=t,c=On(t,["customField","data","step","extensions"]),d;const m=[{sectionTitle:null,items:[]}],f=i.getAdvancedForm(["attribute",n.type],Mn({data:o,type:n.type,step:s},c));if((d=n.options)!=null&&d.advanced&&La(n.options.advanced,m),f){const g={sectionTitle:{id:(0,u.Z)("modalForm.custom-fields.advanced.settings.extended"),defaultMessage:"Extended settings"},items:f};m.push(g)}return{sections:m}}}},attribute:{schema(e,t,n,o,s,i){const c=w()(e,["schema","attributes"],[]),d=ka(c,s);try{let m=Tn[t](d,n.attributes,o,s);return i.makeValidator(["attribute",t],m,d,n.attributes,o,s)}catch(m){return qa.error("Error yup build schema",m),Tn.default(d,n.attributes)}},form:{advanced(e){var t=e,{data:n,type:o,step:s,extensions:i}=t,c=On(t,["data","type","step","extensions"]);try{const d=Na.advanced[o](n,s).sections,m=i.getAdvancedForm(["attribute",o],Mn({data:n,type:o,step:s},c));return{sections:d.reduce((g,p)=>(p.sectionTitle===null?g.push(p):g.push(_s(Mn({},p),{items:[...p.items,...m]})),g),[])}}catch(d){return qa.error(d),{sections:[]}}},base({data:e,type:t,step:n,attributes:o}){try{return Na.base[t](e,n,o)}catch(s){return Ws}}}},contentType:{schema(e,t,n,o,s,i){const c=Object.values(i).map(h=>h.schema.singularName),d=Object.values(i).map(h=>w()(h,["schema","pluralName"],"")),m=t?e.filter(h=>h!==n):e,f=t?c.filter(h=>w()(i,[n,"schema","singularName"],"")!==h):c,g=t?d.filter(h=>w()(i,[n,"schema","pluralName"],"")!==h):d,p=Xs({usedContentTypeNames:m,reservedModels:o.models,singularNames:f,pluralNames:g});return s.makeValidator(["contentType"],p,m,o.models,f,g)},form:{base({actionType:e}){return e==="create"?Cn.base.create():Cn.base.edit()},advanced(e){var t=e,{extensions:n}=t,o=On(t,["extensions"]);const s=Cn.advanced.default(o).sections,i=n.getAdvancedForm(["contentType"]);return{sections:[...s,{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:i}]}}}},component:{schema(e,t,n,o=!1,s=null){const i=o?e.filter(c=>c!==s):e;return As(i,n.models,t)},form:{advanced(){return{sections:Ke.advanced()}},base(){return{sections:Ke.base()}}}},addComponentToDynamicZone:{form:{advanced(){return En.advanced.default()},base({data:e}){return w()(e,"createComponent",!1)?En.base.createComponent():En.base.default()}}},editCategory:{schema(e,t){const n=e.filter(o=>o!==t.name).map(o=>je()(o));return Ss(n)},form:{advanced:()=>({sections:[]}),base(){return Zs.base}}}};var $a=l(98178),ei=l(25061);const ti=()=>e=>e[`${Y.Z}_formModal`]||ei.E,ni=()=>(0,$a.P1)(ti(),e=>e);var za=l(98399),ai=Object.defineProperty,ri=Object.defineProperties,oi=Object.getOwnPropertyDescriptors,Tt=Object.getOwnPropertySymbols,Wa=Object.prototype.hasOwnProperty,Va=Object.prototype.propertyIsEnumerable,Ga=(e,t,n)=>t in e?ai(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,He=(e,t)=>{for(var n in t||(t={}))Wa.call(t,n)&&Ga(e,n,t[n]);if(Tt)for(var n of Tt(t))Va.call(t,n)&&Ga(e,n,t[n]);return e},Ct=(e,t)=>ri(e,oi(t)),Et=(e,t)=>{var n={};for(var o in e)Wa.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&Tt)for(var o of Tt(e))t.indexOf(o)<0&&Va.call(e,o)&&(n[o]=e[o]);return n},Ka=(e,t,n)=>new Promise((o,s)=>{var i=m=>{try{d(n.next(m))}catch(f){s(f)}},c=m=>{try{d(n.throw(m))}catch(f){s(f)}},d=m=>m.done?o(m.value):Promise.resolve(m.value).then(i,c);d((n=n.apply(e,t)).next())});const si=()=>{const{onCloseModal:e,onNavigateToChooseAttributeModal:t,onNavigateToAddCompoToDZModal:n,onNavigateToCreateComponentStep2:o,actionType:s,attributeName:i,attributeType:c,customFieldUid:d,categoryName:m,dynamicZoneTarget:f,forTarget:g,modalType:p,isOpen:h,kind:C,step:M,targetUid:S}=(0,xe.Z)(),I=(0,R.useCustomFields)().get(d),Z=(0,a.useRef)(),E=(0,a.useMemo)(ni,[]),v=(0,Me.useDispatch)(),K=(0,R.useNotification)(),q=(0,Me.useSelector)(H=>E(H),Me.shallowEqual),{push:te}=(0,$.useHistory)(),{trackUsage:N}=(0,R.useTracking)(),{formatMessage:J}=(0,D.useIntl)(),{getPlugin:de}=(0,R.useStrapiApp)(),se=de(Y.Z).apis.forms,pe=se.components.inputs,{addAttribute:Pe,addCustomFieldAttribute:Ye,addCreatedComponentToDynamicZone:we,allComponentsCategories:U,changeDynamicZoneComponents:O,contentTypes:Qe,components:at,createSchema:Je,deleteCategory:An,deleteData:Pt,editCategory:Fn,editCustomFieldAttribute:Nn,submitData:wn,modifiedData:ie,nestedComponents:Dn,setModifiedData:Rt,sortedContentTypesList:In,updateSchema:Ln,reservedNames:De}=(0,ve.Z)(),{componentToCreate:Ie,formErrors:Se,initialData:P,isCreatingComponentWhileAddingAField:F,modifiedData:T}=q,k=g==="contentType"||g==="component"?[g]:[g,S];(0,a.useEffect)(()=>{if(h){const H=In.filter(Bn);p==="editCategory"&&Rt(),s==="edit"&&p==="attribute"&&g==="contentType"&&N("willEditFieldOfContentType");const le=[...k,"schema","attributes"],ke=ln(w()(ie,le,[]),f)||null;if(p==="editCategory"&&s==="edit"&&v({type:_._H,modalType:p,actionType:s,data:{name:m}}),p==="contentType"&&s==="create"&&v({type:_._H,modalType:p,actionType:s,data:{draftAndPublish:!0},pluginOptions:{}}),p==="contentType"&&s==="edit"){const{displayName:V,draftAndPublish:ee,kind:Q,pluginOptions:ge,pluralName:he,singularName:Ce}=w()(ie,[...k,"schema"],{displayName:null,pluginOptions:{},singularName:null,pluralName:null});v({type:_._H,actionType:s,modalType:p,data:{displayName:V,draftAndPublish:ee,kind:Q,pluginOptions:ge,pluralName:he,singularName:Ce}})}if(p==="component"&&s==="edit"){const V=w()(ie,k,{});v({type:_._H,actionType:s,modalType:p,data:{displayName:V.schema.displayName,category:V.category,icon:V.schema.icon}})}if(p==="addComponentToDynamicZone"&&s==="edit"){const V=Ct(He({},ke),{components:[],name:f,createComponent:!1,componentToCreate:{type:"component"}});v({type:_.VZ,attributeToEdit:V})}if(c){const V=ln(w()(ie,le,[]),i),ee=Ct(He({},V),{name:i});c==="component"&&s==="edit"&&(ee.repeatable||ct()(ee,"repeatable",!1)),v(p==="customField"?{type:_.OY,customField:I,isEditing:s==="edit",modifiedDataToSetForEditing:ee,forTarget:g}:{type:_.S0,attributeType:c,nameToSetForRelation:w()(H,["0","title"],"error"),targetUid:w()(H,["0","uid"],"error"),isEditing:s==="edit",modifiedDataToSetForEditing:ee,step:M,forTarget:g})}}else v({type:_.c2})},[s,i,c,m,f,g,h,p]);const ne=p==="contentType",Re=p==="component",Te=p==="attribute",Ae=p==="customField",rt=c==="component"&&Te,ot=s==="create",Le=w()(T,"createComponent",!1)||F,_e=M==="1",br=p==="editCategory",vr=p==="chooseAttribute",kn=(0,Ge.E)(T.displayName||""),qn=w()(ie,[...k,"schema","attributes"],null),bl=()=>Ka(void 0,null,function*(){var H;let le;const ke=Le&&M==="1"?w()(T,"componentToCreate",{}):T;if(ne)le=Ne.contentType.schema(Object.keys(Qe),s==="edit",w()(ie,[...k,"uid"],null),De,se,Qe);else if(Re)le=Ne.component.schema(Object.keys(at),T.category||"",De,s==="edit",w()(ie,[...k,"uid"],null),se);else if(Ae)le=Ne.customField.schema({schemaAttributes:w()(ie,[...k,"schema","attributes"],[]),attributeType:I.type,reservedNames:De,schemaData:{modifiedData:T,initialData:P},ctbFormsAPI:se,customFieldValidator:(H=I.options)==null?void 0:H.validator});else if(rt&&Le&&_e)le=Ne.component.schema(Object.keys(at),w()(T,"componentToCreate.category",""),De,se);else if(Te&&!_e){const V=c==="relation"?"relation":T.type;let ee=[];if(V==="relation"){const Q=w()(T,["target"],null);ee=w()(Qe,[Q,"schema","attributes"],[]).filter(({name:he})=>s!=="edit"?!0:he!==P.targetAttribute)}le=Ne.attribute.schema(w()(ie,k,{}),V,De,ee,{modifiedData:T,initialData:P},se)}else if(br)le=Ne.editCategory.schema(U,P,se);else if(_e&&Le)le=Ne.component.schema(Object.keys(at),w()(T,"componentToCreate.category",""),De,se);else return;yield le.validate(ke,{abortEarly:!1})}),Tr=(0,a.useCallback)(H=>{var{target:le}=H,ke=le,{name:V,value:ee,type:Q}=ke,ge=Et(ke,["name","value","type"]);const he=["enumName","max","min","maxLength","minLength","regex","default"];let Ce;he.includes(V)&&ee===""?Ce=null:Ce=ee;const Ee=Object.assign({},Se);V==="max"&&delete Ee.min,V==="maxLength"&&delete Ee.minLength,delete Ee[V],v({type:_.Ey,errors:Ee}),v(He({type:_.P0,keys:V.split("."),value:Ce},ge))},[v,Se]),ye=(H,...le)=>Ka(void 0,[H,...le],function*(ke,V=ot){ke.preventDefault();try{yield bl(),Tl(V);const ee=g==="components"?S:kn;if(ne)if(ot)Je(Ct(He({},T),{kind:C}),p,kn),te({pathname:`/plugins/${Y.Z}/content-types/${kn}`}),t({forTarget:g,targetUid:ee});else{Rs(ie,T)?(e(),wn(T)):K({type:"warning",message:{id:"notification.contentType.relations.conflict"}});return}else if(p==="component")if(ot){const Q=(0,Ge.N)(T.displayName,T.category),ge=T,{category:he}=ge,Ce=Et(ge,["category"]);Je(Ce,"component",Q,he),te({pathname:`/plugins/${Y.Z}/component-categories/${he}/${Q}`}),t({forTarget:g,targetUid:Q})}else{Ln(T,p,S),e();return}else if(br){if(je()(P.name)===je()(T.name)){e();return}Fn(P.name,T);return}else if(Ae){const Q={attributeToSet:Ct(He({},T),{customField:d}),forTarget:g,targetUid:S,initialAttribute:P};s==="edit"?Nn(Q):Ye(Q),V?t({forTarget:g,targetUid:ee}):e();return}else if(Te&&!Le){if(c==="dynamiczone"){Pe(T,g,S,s==="edit",P),ot?(v({type:_.I}),Z.current._handlers.setSelectedTabIndex(0),n({dynamicZoneTarget:T.name})):e();return}if(!rt){Pe(T,g,S,s==="edit",P),V?t({forTarget:g,targetUid:ee}):e();return}if(_e){o(),v({type:_.yC,forTarget:g});return}Pe(T,g,S,s==="edit",P,!0),V?t({forTarget:g,targetUid:S}):e()}else if(Te&&Le){if(_e){N("willCreateComponentFromAttributesModal"),v({type:_.oF,forTarget:g}),o();return}const Q=Ie,{category:ge,type:he}=Q,Ce=Et(Q,["category","type"]),Ee=(0,Ge.N)(Ie.displayName,ge);Je(Ce,he,Ee,ge,Le),Pe(T,g,S,!1),v({type:_.c2}),V?t({forTarget:"components",targetUid:Ee}):e();return}else{if(_e)if(Le){const Q=T.componentToCreate,{category:ge,type:he}=Q,Ce=Et(Q,["category","type"]),Ee=(0,Ge.N)(T.componentToCreate.displayName,ge);Je(Ce,he,Ee,ge,Le),we(f,[Ee]),t({forTarget:"components",targetUid:Ee})}else O(f,T.components),e();else za.error("This case is not handled");return}v({type:_.c2})}catch(ee){const Q=(0,R.getYupInnerErrors)(ee);za.log({err:ee,errors:Q}),v({type:_.Ey,errors:Q})}}),Cr=()=>{e(),v({type:_.c2})},vl=H=>{if(H==="advanced"){if(ne){N("didSelectContentTypeSettings");return}g==="contentType"&&N("didSelectContentTypeFieldSettings")}},Tl=H=>{p==="attribute"&&g==="contentType"&&c!=="dynamiczone"&&H&&N("willAddMoreFieldToContentType")},Cl=()=>!!(p==="editCategory"||p==="component"||ze()(T,"createComponent")),El=xs(g,S,Dn);if(!h||!p)return null;const Er=w()(Ne,[p,"form"],{advanced:()=>({sections:[]}),base:()=>({sections:[]})}),Ml=g==="components"||g==="component",Mr={customInputs:He({"allowed-types-select":xr,"boolean-radio-group":go,"checkbox-with-number-field":Co,"component-icon-picker":Lo,"content-type-radio-group":Zo,"radio-group":Ht,relation:Qo,"select-category":os,"select-component":ss,"select-components":is,"select-default-boolean":ro,"select-number":cs,"select-date":ls,"toggle-draft-publish":Xr,"text-plural":ns,"text-singular":gs,"textarea-enum":Ps},pe),componentToCreate:Ie,dynamicZoneTarget:f,formErrors:Se,isAddingAComponentToAnotherComponent:Ml,isCreatingComponentWhileAddingAField:F,mainBoxHeader:w()(ie,[...k,"schema","displayName"],""),modifiedData:T,naturePickerType:g,isCreating:ot,targetUid:S,forTarget:g},Or=Er.advanced({data:T,type:c,step:M,actionType:s,attributes:qn,extensions:se,forTarget:g,contentTypeSchema:ie.contentType||{},customField:I}).sections,Pr=Er.base({data:T,type:c,step:M,actionType:s,attributes:qn,extensions:se,forTarget:g,contentTypeSchema:ie.contentType||{},customField:I}).sections,Ol=Ra(Pr),Pl=Ra(Or),Rl=Object.keys(Se).some(H=>Ol.includes(H)),xl=Object.keys(Se).some(H=>Pl.includes(H)),Zl=w()(Qe,[S,"schema","kind"]),Sl=()=>s==="edit"&&qn.every(({name:H})=>H!==(T==null?void 0:T.name)),Al=()=>{Sl()&&N("didEditFieldNameOnContentType")};return a.createElement(It.P,{onClose:Cr,labelledBy:"title"},a.createElement(Yr,{actionType:s,attributeName:i,categoryName:m,contentTypeKind:C,dynamicZoneTarget:f,modalType:p,forTarget:g,targetUid:S,attributeType:c,customFieldUid:d}),vr&&a.createElement(jr,{attributes:El,forTarget:g,kind:Zl||"collectionType"}),!vr&&a.createElement("form",{onSubmit:ye},a.createElement(Ve.f,null,a.createElement(X.v,{label:"todo",id:"tabs",variant:"simple",ref:Z,onTabChange:H=>{H===1&&vl("advanced")}},a.createElement(L.k,{justifyContent:"space-between"},a.createElement(_r,{actionType:s,forTarget:g,kind:C,step:M,modalType:p,attributeType:c,attributeName:i,customField:I}),a.createElement(B.m,null,a.createElement(B.O,{hasError:Rl},J({id:(0,u.Z)("popUpForm.navContainer.base"),defaultMessage:"Basic settings"})),a.createElement(B.O,{hasError:xl,disabled:Cl()},J({id:(0,u.Z)("popUpForm.navContainer.advanced"),defaultMessage:"Advanced settings"})))),a.createElement(We.i,null),a.createElement(j.x,{paddingTop:6},a.createElement(W.n,null,a.createElement(W.x,null,a.createElement(ae.K,{spacing:6},a.createElement(Ea,{form:Pr,formErrors:Se,genericInputProps:Mr,modifiedData:T,onChange:Tr}))),a.createElement(W.x,null,a.createElement(ae.K,{spacing:6},a.createElement(Ea,{form:Or,formErrors:Se,genericInputProps:Mr,modifiedData:T,onChange:Tr}))))))),a.createElement(Lt.m,{endActions:a.createElement(Qr,{deleteCategory:An,deleteContentType:Pt,deleteComponent:Pt,categoryName:P.name,isAttributeModal:p==="attribute",isCustomFieldModal:p==="customField",isComponentToDzModal:p==="addComponentToDynamicZone",isComponentAttribute:c==="component",isComponentModal:p==="component",isContentTypeModal:p==="contentType",isCreatingComponent:s==="create",isCreatingDz:s==="create",isCreatingComponentAttribute:T.createComponent||!1,isCreatingComponentInDz:T.createComponent||!1,isCreatingComponentWhileAddingAField:F,isCreatingContentType:s==="create",isEditingAttribute:s==="edit",isDzAttribute:c==="dynamiczone",isEditingCategory:p==="editCategory",isInFirstComponentStep:M==="1",onSubmitAddComponentAttribute:ye,onSubmitAddComponentToDz:ye,onSubmitCreateComponent:ye,onSubmitCreateContentType:ye,onSubmitCreateDz:ye,onSubmitEditAttribute:ye,onSubmitEditCategory:ye,onSubmitEditComponent:ye,onSubmitEditContentType:ye,onSubmitEditCustomFieldAttribute:ye,onSubmitEditDz:ye,onClickFinish:Al}),startActions:a.createElement(z.z,{variant:"tertiary",onClick:Cr},J({id:"app.components.Button.cancel",defaultMessage:"Cancel"}))})))},Ha=e=>e.reduce((t,n)=>(t[n.uid]=n,t),{}),ii=(e,t,n,o)=>{const s=t.reduce((d,m)=>{const f=w()(n,m,{});return d[m]=f,d},{});return{[o?"contentType":"component"]:e,components:s}},li=(e,t)=>{const n=Object.keys(e).map(o=>(0,A.get)(e,[o,...t],""));return(0,qe.Z)(n)};var ci=l(13339);const ui=e=>{const t=Object.keys(e).reduce((n,o)=>{const s=(0,A.get)(e,[o,"schema","attributes"],[]),i=di(s);return[...n,...i]},[]);return(0,qe.Z)(t)},di=e=>e.reduce((t,n)=>{const{type:o,component:s}=n;return o==="component"&&t.push(s),t},[]),Xa=ui,mi=e=>{const t=Object.keys(e).reduce((n,o)=>{const s=w()(e,[o],{}),i=s.uid;return pi(s)&&n.push(i),n},[]);return(0,qe.Z)(t)},pi=e=>w()(e,["schema","attributes"],[]).some(n=>{const{type:o}=n;return o==="component"});var gi=Object.defineProperty,fi=Object.defineProperties,yi=Object.getOwnPropertyDescriptors,Mt=Object.getOwnPropertySymbols,Ya=Object.prototype.hasOwnProperty,Qa=Object.prototype.propertyIsEnumerable,Ja=(e,t,n)=>t in e?gi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hi=(e,t)=>{for(var n in t||(t={}))Ya.call(t,n)&&Ja(e,n,t[n]);if(Mt)for(var n of Mt(t))Qa.call(t,n)&&Ja(e,n,t[n]);return e},bi=(e,t)=>fi(e,yi(t)),vi=(e,t)=>{var n={};for(var o in e)Ya.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&Mt)for(var o of Mt(e))t.indexOf(o)<0&&Qa.call(e,o)&&(n[o]=e[o]);return n};const Ti=(e,t)=>{const n=Object.keys(e).filter(o=>{const s=(0,A.get)(e,o,{}),i=(0,A.get)(t,o,{}),c=(0,A.get)(s,["isTemporary"],!1),d=!(0,A.isEqual)(s,i);return c||d});return(0,qe.Z)(n)},Ci=(e,t)=>{const n=er((0,A.get)(e,"schema.attributes",[]),t),o=(0,A.get)(e,"isTemporary",!1)?{tmpUID:e.uid}:{uid:e.uid};return Object.assign({},o,{category:e.category},(0,A.omit)(e.schema,"attributes"),{attributes:n})},_a=(e,t=!1)=>{const n=(0,A.get)(e,"uid",null),o=er((0,A.get)(e,"schema.attributes",[]),n),s=t?{category:(0,A.get)(e,"category","")}:{},i=Object.assign(s,(0,A.omit)(e.schema,"attributes"),{attributes:o});return delete i.uid,delete i.isTemporary,delete i.visible,delete i.restrictRelationsTo,i},er=(e,t)=>e.reduce((n,o)=>{var s=o,{name:i}=s,c=vi(s,["name"]);const d=c,m=d.target===t,f=d.type==="relation",g=(0,A.get)(d,"targetAttribute",null);if(!m)if(f){const p=Object.assign({},d,{targetAttribute:tr(g)});n[i]=Ot(p)}else n[i]=Ot(d);if(m){const p=d.target,h=Object.assign({},d,{target:p,targetAttribute:tr(g)});n[i]=Ot(h)}if(d.customField){const p=bi(hi({},d),{type:"customField"});n[i]=Ot(p)}return n},{}),tr=e=>e==="-"?null:e,Ot=e=>Object.keys(e).reduce((t,n)=>(e[n]!==null&&n!=="plugin"&&(t[n]=e[n]),t),{}),Ei=(e,t,n,o=!1)=>Ti(e,t).map(c=>{const d=(0,A.get)(e,c,{});return Ci(d,n,o)}),Mi=e=>(0,A.sortBy)(Object.keys(e).map(t=>({visible:e[t].schema.visible,name:t,title:e[t].schema.displayName,plugin:e[t].plugin||null,uid:t,to:`/plugins/${Y.Z}/content-types/${t}`,kind:e[t].schema.kind,restrictRelationsTo:e[t].schema.restrictRelationsTo})).filter(t=>t!==null),t=>(0,A.camelCase)(t.title)),nr="did-not-kill-server",Oi="server is down";function tt(e,t){return new Promise(n=>{fetch(`${strapi.backendURL}/_health`,{method:"HEAD",mode:"no-cors",headers:{"Content-Type":"application/json","Keep-Alive":!1}}).then(o=>{if(o.status>=400)throw new Error(Oi);if(!t)throw new Error(nr);n(e)}).catch(o=>{setTimeout(()=>tt(e,o.message!==nr).then(n),100)})})}const Pi=e=>Object.values(e.attributes).filter(({type:n})=>n==="dynamiczone").every(({components:n})=>Array.isArray(n)&&n.length>0);var re=l(31947),Ri=l(54370);const xi=()=>e=>e[`${Y.Z}_dataManagerProvider`]||Ri.E,Zi=()=>(0,$a.P1)(xi(),e=>e);var Si=Object.defineProperty,Ai=Object.defineProperties,Fi=Object.getOwnPropertyDescriptors,ar=Object.getOwnPropertySymbols,Ni=Object.prototype.hasOwnProperty,wi=Object.prototype.propertyIsEnumerable,rr=(e,t,n)=>t in e?Si(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Pn=(e,t)=>{for(var n in t||(t={}))Ni.call(t,n)&&rr(e,n,t[n]);if(ar)for(var n of ar(t))wi.call(t,n)&&rr(e,n,t[n]);return e},Rn=(e,t)=>Ai(e,Fi(t));const Di=e=>Object.keys(e).reduce((t,n)=>{const o=e[n].schema;return t[n]=Rn(Pn({},e[n]),{schema:Rn(Pn({},o),{attributes:Ii(o.attributes)})}),t},{}),Ii=e=>Object.keys(e).reduce((t,n)=>(t.push(Rn(Pn({},e[n]),{name:n})),t),[]),or=Di;var nt=l(98399),Li=Object.defineProperty,sr=Object.getOwnPropertySymbols,ki=Object.prototype.hasOwnProperty,qi=Object.prototype.propertyIsEnumerable,ir=(e,t,n)=>t in e?Li(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lr=(e,t)=>{for(var n in t||(t={}))ki.call(t,n)&&ir(e,n,t[n]);if(sr)for(var n of sr(t))qi.call(t,n)&&ir(e,n,t[n]);return e},Xe=(e,t,n)=>new Promise((o,s)=>{var i=m=>{try{d(n.next(m))}catch(f){s(f)}},c=m=>{try{d(n.throw(m))}catch(f){s(f)}},d=m=>m.done?o(m.value):Promise.resolve(m.value).then(i,c);d((n=n.apply(e,t)).next())});const xn=({allIcons:e,children:t,components:n,contentTypes:o,isLoading:s,isLoadingForDataToBeSet:i,initialData:c,modifiedData:d,reservedNames:m})=>{const f=(0,Me.useDispatch)(),g=(0,R.useNotification)(),{lockAppWithAutoreload:p,unlockAppWithAutoreload:h}=(0,R.useAutoReloadOverlayBlocker)(),{setCurrentStep:C}=(0,R.useGuidedTour)(),{getPlugin:M}=(0,R.useStrapiApp)(),{apis:S}=M(Y.Z),{autoReload:I}=(0,R.useAppInfos)(),{formatMessage:Z}=(0,D.useIntl)(),{trackUsage:E}=(0,R.useTracking)(),{refetchPermissions:v}=(0,R.useRBACProvider)(),{pathname:K}=(0,$.useLocation)(),{onCloseModal:q}=(0,xe.Z)(),te=(0,$.useRouteMatch)(`/plugins/${Y.Z}/content-types/:uid`),N=(0,$.useRouteMatch)(`/plugins/${Y.Z}/component-categories/:categoryUid/:componentUid`),J=(0,a.useRef)();J.current=Z;const de=I,oe=te!==null,se=oe?"contentType":"component",pe=oe?(0,A.get)(te,"params.uid",null):(0,A.get)(N,"params.componentUid",null),Pe=(0,a.useRef)(),Ye=oe?"content-types":"components";Pe.current=()=>Xe(void 0,null,function*(){try{const[{data:{data:P}},{data:{data:F}},{data:T}]=yield Promise.all(["components","content-types","reserved-names"].map(Ae=>fe.get(Ae))),k=Ha(P),ne=or(k),Re=Ha(F),Te=or(Re);f({type:re.Id,components:ne,contentTypes:Te,reservedNames:T})}catch(P){nt.error({err:P}),g({type:"warning",message:{id:"notification.error"}})}}),(0,a.useEffect)(()=>(Pe.current(),()=>{f({type:re.Zl})}),[]),(0,a.useEffect)(()=>{!s&&pe&&Rt()},[s,K,pe]),(0,a.useEffect)(()=>{I||g({type:"info",message:{id:(0,u.Z)("notification.info.autoreaload-disable")}})},[I,g]);const we=(P,F,T,k=!1,ne,Re=!1)=>{const Te=k?re.JO:re.gz;f({type:Te,attributeToSet:P,forTarget:F,targetUid:T,initialAttribute:ne,shouldAddComponentToData:Re})},U=({attributeToSet:P,forTarget:F,targetUid:T,initialAttribute:k})=>{f({type:re.Ir,attributeToSet:P,forTarget:F,targetUid:T,initialAttribute:k})},O=({attributeToSet:P,forTarget:F,targetUid:T,initialAttribute:k})=>{f({type:re.Ly,attributeToSet:P,forTarget:F,targetUid:T,initialAttribute:k})},Qe=(P,F)=>{f({type:re.Uu,dynamicZoneTarget:P,componentsToAdd:F})},at=(P,F,T,k,ne=!1)=>{const Re=F==="contentType"?re.Sh:re.VR;f({type:Re,data:P,componentCategory:k,schemaType:F,uid:T,shouldAddComponentToData:ne})},Je=(P,F)=>{f({type:re.o_,dynamicZoneTarget:P,newComponents:F})},An=(P,F,T="")=>{const k=P==="components"?re.lw:re.ai;P==="contentType"&&E("willDeleteFieldOfContentType"),f({type:k,mainDataKey:P,attributeToRemoveName:F,componentUid:T})},Pt=P=>Xe(void 0,null,function*(){try{const F=`/component-categories/${P}`,T=window.confirm(Z({id:(0,u.Z)("popUpWarning.bodyMessage.category.delete")}));q(),T&&(p(),yield fe.delete(F),yield tt(!0),yield h(),yield Ie())}catch(F){nt.error({err:F}),g({type:"warning",message:{id:"notification.error"}})}finally{h()}}),Fn=()=>Xe(void 0,null,function*(){try{const P=`/${Ye}/${pe}`,F=(0,A.get)(d,[se,"isTemporary"],!1),T=window.confirm(Z({id:(0,u.Z)(`popUpWarning.bodyMessage.${oe?"contentType":"component"}.delete`)}));if(q(),T){if(F){f({type:re.Ap});return}p(),yield fe.delete(P),yield tt(!0),yield h(),yield Ie()}}catch(P){nt.error({err:P}),g({type:"warning",message:{id:"notification.error"}})}finally{h()}}),Nn=(P,F)=>Xe(void 0,null,function*(){try{const T=`/component-categories/${P}`;q(),p(),yield fe.put(T,F),yield tt(!0),yield h(),yield Ie()}catch(T){nt.error({err:T}),g({type:"warning",message:{id:"notification.error"}})}finally{h()}}),wn=()=>{const P=Object.assign({},n,d.components);if(!oe){const T=(0,A.get)(d,"component",{});(0,A.set)(P,(0,A.get)(T,["uid"],""),T)}const F=mi(P);return(0,qe.Z)(F)},ie=()=>{const P=Xa(n),F=Xa(d.components||{});return(0,qe.Z)([...F,...P])},Dn=(P,F)=>{f({type:re.NG,dzName:P,componentToRemoveIndex:F})},Rt=()=>{const P=oe?o:n,F=(0,A.get)(P,pe,{schema:{attributes:[]}}),T=(0,ci.Z)(F.schema.attributes,n),k=ii(F,T,n,oe),ne=(0,A.get)(F,"isTemporary",!1)&&(0,A.size)((0,A.get)(F,"schema.attributes",[]))===0;f({type:re.xx,schemaToSet:k,hasJustCreatedSchema:ne})},In=(0,a.useMemo)(()=>{const P=oe?o:n;return pe==="create-content-type"?!1:!Object.keys(P).includes(pe)&&!s},[n,o,pe,oe,s]),Ln=(0,a.useMemo)(()=>{const P=Object.keys(o).filter(F=>(0,A.get)(o,[F,"schema","visible"],!0)).sort();return(0,A.get)(P,"0","create-content-type")},[o]);if(In)return a.createElement($.Redirect,{to:`/plugins/${Y.Z}/content-types/${Ln}`});const De=P=>Xe(void 0,null,function*(){var F,T;try{const k=(0,A.get)(d,[se,"isTemporary"],!1),ne={components:Ei(d.components,n,pe,k)};if(oe){const Ae=S.forms.mutateContentTypeSchema(lr(lr({},_a(d.contentType)),P),c.contentType);if(!Pi(Ae)){g({type:"warning",message:{id:(0,u.Z)("notification.error.dynamiczone-min.validation"),defaultMessage:"At least one component is required in a dynamic zone to be able to save a content type"}});return}ne.contentType=Ae,E("willSaveContentType")}else ne.component=_a(d.component,!0),E("willSaveComponent");p();const Re=`/${Ye}`,Te=k?Re:`${Re}/${pe}`;if(k?yield fe.post(Te,ne):yield fe.put(Te,ne),yield tt(!0),yield h(),k&&(((F=c.contentType)==null?void 0:F.schema.kind)==="collectionType"||((T=c.contentType)==null?void 0:T.schema.kind)==="singleType")&&C("contentTypeBuilder.success"),oe){E("didSaveContentType");const Ae=(0,A.get)(ne,["contentType","schema","name"],""),rt=(0,A.get)(c,["contentType","schema","name"],"");!k&&Ae!==rt&&E("didEditNameOfContentType")}else E("didSaveComponent");yield Ie()}catch(k){oe||E("didNotSaveComponent"),nt.error({err:k.response}),g({type:"warning",message:{id:"notification.error"}})}finally{h()}}),Ie=()=>Xe(void 0,null,function*(){yield v()}),Se=(P,F,T)=>{f({type:re.bi,data:P,schemaType:F,uid:T})};return a.createElement(St.Z.Provider,{value:{addAttribute:we,addCustomFieldAttribute:U,addCreatedComponentToDynamicZone:Qe,allComponentsCategories:li(n,["category"]),allIcons:e,changeDynamicZoneComponents:Je,components:n,componentsGroupedByCategory:(0,A.groupBy)(n,"category"),componentsThatHaveOtherComponentInTheirAttributes:wn(),contentTypes:o,createSchema:at,deleteCategory:Pt,deleteData:Fn,editCategory:Nn,editCustomFieldAttribute:O,isInDevelopmentMode:de,initialData:c,isInContentTypeView:oe,modifiedData:d,nestedComponents:ie(),removeAttribute:An,removeComponentFromDynamicZone:Dn,reservedNames:m,setModifiedData:Rt,sortedContentTypesList:Mi(o),submitData:De,updateSchema:Se}},i?a.createElement(R.LoadingIndicatorPage,null):a.createElement(a.Fragment,null,t,de&&a.createElement(si,null)))};xn.defaultProps={components:{}},xn.propTypes={allIcons:r().array.isRequired,children:r().node.isRequired,components:r().object,contentTypes:r().object.isRequired,isLoading:r().bool.isRequired,isLoadingForDataToBeSet:r().bool.isRequired,initialData:r().object.isRequired,modifiedData:r().object.isRequired,reservedNames:r().object.isRequired};const ji=Zi(),Bi=(0,Me.connect)(ji,null),Ui=(0,it.compose)(Bi)((0,a.memo)(xn));var $i=l(51216);const cr={actionType:null,attributeName:null,attributeType:null,categoryName:null,dynamicZoneTarget:null,forTarget:null,modalType:null,isOpen:!1,kind:null,step:null,targetUid:null,customFieldUid:null};var zi=Object.defineProperty,Wi=Object.defineProperties,Vi=Object.getOwnPropertyDescriptors,ur=Object.getOwnPropertySymbols,Gi=Object.prototype.hasOwnProperty,Ki=Object.prototype.propertyIsEnumerable,dr=(e,t,n)=>t in e?zi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ue=(e,t)=>{for(var n in t||(t={}))Gi.call(t,n)&&dr(e,n,t[n]);if(ur)for(var n of ur(t))Ki.call(t,n)&&dr(e,n,t[n]);return e},me=(e,t)=>Wi(e,Vi(t));const mr=({children:e})=>{const[t,n]=(0,a.useState)(cr),{trackUsage:o}=(0,R.useTracking)(),s=({attributeType:Z,customFieldUid:E})=>{n(v=>me(ue({},v),{actionType:"create",modalType:"customField",attributeType:Z,customFieldUid:E}))},i=({attributeType:Z,step:E})=>{t.forTarget==="contentType"&&o("didSelectContentTypeFieldType",{type:Z}),n(v=>me(ue({},v),{actionType:"create",modalType:"attribute",step:E,attributeType:Z}))},c=({dynamicZoneTarget:Z,targetUid:E})=>{n(v=>me(ue({},v),{dynamicZoneTarget:Z,targetUid:E,modalType:"addComponentToDynamicZone",forTarget:"contentType",step:"1",actionType:"edit",isOpen:!0}))},d=({forTarget:Z,targetUid:E})=>{n(v=>me(ue({},v),{actionType:"create",forTarget:Z,targetUid:E,modalType:"chooseAttribute",isOpen:!0}))},m=Z=>{n(E=>me(ue(ue({},E),Z),{isOpen:!0}))},f=Z=>{n(E=>me(ue({},E),{categoryName:Z,actionType:"edit",modalType:"editCategory",isOpen:!0}))},g=({forTarget:Z,targetUid:E,attributeName:v,attributeType:K,customFieldUid:q})=>{n(te=>me(ue({},te),{modalType:"customField",customFieldUid:q,actionType:"edit",forTarget:Z,targetUid:E,attributeName:v,attributeType:K,isOpen:!0}))},p=({forTarget:Z,targetUid:E,attributeName:v,attributeType:K,step:q})=>{n(te=>me(ue({},te),{modalType:"attribute",actionType:"edit",forTarget:Z,targetUid:E,attributeName:v,attributeType:K,step:q,isOpen:!0}))},h=({modalType:Z,forTarget:E,targetUid:v,kind:K})=>{n(q=>me(ue({},q),{modalType:Z,actionType:"edit",forTarget:E,targetUid:v,kind:K,isOpen:!0}))},C=()=>{n(cr)},M=({forTarget:Z,targetUid:E})=>{n(v=>me(ue({},v),{forTarget:Z,targetUid:E,modalType:"chooseAttribute"}))},S=()=>{n(Z=>me(ue({},Z),{attributeType:"component",modalType:"attribute",step:"2"}))},I=({dynamicZoneTarget:Z})=>{n(E=>me(ue({},E),{dynamicZoneTarget:Z,modalType:"addComponentToDynamicZone",actionType:"create",step:"1",attributeType:null,attributeName:null}))};return a.createElement($i.Z.Provider,{value:me(ue({},t),{onClickSelectField:i,onClickSelectCustomField:s,onCloseModal:C,onNavigateToChooseAttributeModal:M,onNavigateToAddCompoToDZModal:I,onOpenModalAddComponentsToDZ:c,onNavigateToCreateComponentStep2:S,onOpenModalAddField:d,onOpenModalCreateSchema:m,onOpenModalEditCategory:f,onOpenModalEditField:p,onOpenModalEditCustomField:g,onOpenModalEditSchema:h,setFormModalNavigationState:n})},e)};mr.propTypes={children:r().node.isRequired};const Hi=mr,Xi=(0,a.lazy)(()=>l.e(5905).then(l.bind(l,94271))),Yi=()=>{const{url:e}=(0,$.useRouteMatch)(),{categoryUid:t}=(0,$.useParams)();return a.createElement(a.Suspense,{fallback:a.createElement(R.LoadingIndicatorPage,null)},a.createElement($.Switch,null,a.createElement($.Route,{path:`${e}/:componentUid`},a.createElement(Xi,{categoryId:t}))))},Qi=JSON.parse('["ad","address-book","address-card","adjust","air-freshener","align-center","align-justify","align-left","align-right","allergies","ambulance","american-sign-language-interpreting","anchor","angle-double-down","angle-double-left","angle-double-right","angle-double-up","angle-down","angle-left","angle-right","angle-up","angry","ankh","apple-alt","archive","archway","arrow-alt-circle-down","arrow-alt-circle-left","arrow-alt-circle-right","arrow-alt-circle-up","arrow-circle-down","arrow-circle-left","arrow-circle-right","arrow-circle-up","arrow-down","arrow-left","arrow-right","arrow-up","arrows-alt","arrows-alt-h","arrows-alt-v","assistive-listening-systems","asterisk","at","atlas","atom","audio-description","award","baby","baby-carriage","backspace","backward","bacon","balance-scale","balance-scale-left","balance-scale-right","ban","band-aid","barcode","bars","baseball-ball","basketball-ball","bath","battery-empty","battery-full","battery-half","battery-quarter","battery-three-quarters","bed","beer","bell","bell-slash","bezier-curve","bible","bicycle","biking","binoculars","biohazard","birthday-cake","blender","blender-phone","blind","blog","bold","bolt","bomb","bone","bong","book","book-dead","book-medical","book-open","book-reader","bookmark","border-all","border-none","border-style","bowling-ball","box","box-open","boxes","braille","brain","bread-slice","briefcase","briefcase-medical","broadcast-tower","broom","brush","bug","building","bullhorn","bullseye","burn","bus","bus-alt","business-time","calculator","calendar","calendar-alt","calendar-check","calendar-day","calendar-minus","calendar-plus","calendar-times","calendar-week","camera","camera-retro","campground","candy-cane","cannabis","capsules","car","car-alt","car-battery","car-crash","car-side","caret-down","caret-left","caret-right","caret-square-down","caret-square-left","caret-square-right","caret-square-up","caret-up","carrot","cart-arrow-down","cart-plus","cash-register","cat","certificate","chair","chalkboard","chalkboard-teacher","charging-station","chart-area","chart-bar","chart-line","chart-pie","check","check-circle","check-double","check-square","cheese","chess","chess-bishop","chess-board","chess-king","chess-knight","chess-pawn","chess-queen","chess-rook","chevron-circle-down","chevron-circle-left","chevron-circle-right","chevron-circle-up","chevron-down","chevron-left","chevron-right","chevron-up","child","church","circle","circle-notch","city","clinic-medical","clipboard","clipboard-check","clipboard-list","clock","clone","closed-captioning","cloud","cloud-download-alt","cloud-meatball","cloud-moon","cloud-moon-rain","cloud-rain","cloud-showers-heavy","cloud-sun","cloud-sun-rain","cloud-upload-alt","cocktail","code","code-branch","coffee","cog","cogs","coins","columns","comment","comment-alt","comment-dollar","comment-dots","comment-medical","comment-slash","comments","comments-dollar","compact-disc","compass","compress","compress-arrows-alt","concierge-bell","cookie","cookie-bite","copy","copyright","couch","credit-card","crop","crop-alt","cross","crosshairs","crow","crown","crutch","cube","cubes","cut","database","deaf","democrat","desktop","dharmachakra","diagnoses","dice","dice-d20","dice-d6","dice-five","dice-four","dice-one","dice-six","dice-three","dice-two","digital-tachograph","directions","divide","dizzy","dna","dog","dollar-sign","dolly","dolly-flatbed","donate","door-closed","door-open","dot-circle","dove","download","drafting-compass","dragon","draw-polygon","drum","drum-steelpan","drumstick-bite","dumbbell","dumpster","dumpster-fire","dungeon","edit","egg","eject","ellipsis-h","ellipsis-v","envelope","envelope-open","envelope-open-text","envelope-square","equals","eraser","ethernet","euro-sign","exchange-alt","exclamation","exclamation-circle","exclamation-triangle","expand","expand-arrows-alt","external-link-alt","external-link-square-alt","eye","eye-dropper","eye-slash","fan","fast-backward","fast-forward","fax","feather","feather-alt","female","fighter-jet","file","file-alt","file-archive","file-audio","file-code","file-contract","file-csv","file-download","file-excel","file-export","file-image","file-import","file-invoice","file-invoice-dollar","file-medical","file-medical-alt","file-pdf","file-powerpoint","file-prescription","file-signature","file-upload","file-video","file-word","fill","fill-drip","film","filter","fingerprint","fire","fire-alt","fire-extinguisher","first-aid","fish","fist-raised","flag","flag-checkered","flag-usa","flask","flushed","folder","folder-minus","folder-open","folder-plus","font","football-ball","forward","frog","frown","frown-open","funnel-dollar","futbol","gamepad","gas-pump","gavel","gem","genderless","ghost","gift","gifts","glass-cheers","glass-martini","glass-martini-alt","glass-whiskey","glasses","globe","globe-africa","globe-americas","globe-asia","globe-europe","golf-ball","gopuram","graduation-cap","greater-than","greater-than-equal","grimace","grin","grin-alt","grin-beam","grin-beam-sweat","grin-hearts","grin-squint","grin-squint-tears","grin-stars","grin-tears","grin-tongue","grin-tongue-squint","grin-tongue-wink","grin-wink","grip-horizontal","grip-lines","grip-lines-vertical","grip-vertical","guitar","h-square","hamburger","hammer","hamsa","hand-holding","hand-holding-heart","hand-holding-usd","hand-lizard","hand-middle-finger","hand-paper","hand-peace","hand-point-down","hand-point-left","hand-point-right","hand-point-up","hand-pointer","hand-rock","hand-scissors","hand-spock","hands","hands-helping","handshake","hanukiah","hard-hat","hashtag","hat-cowboy","hat-cowboy-side","hat-wizard","haykal","hdd","heading","headphones","headphones-alt","headset","heart","heart-broken","heartbeat","helicopter","highlighter","hiking","hippo","history","hockey-puck","holly-berry","home","horse","horse-head","hospital","hospital-alt","hospital-symbol","hot-tub","hotdog","hotel","hourglass","hourglass-end","hourglass-half","hourglass-start","house-damage","hryvnia","i-cursor","ice-cream","icicles","icons","id-badge","id-card","id-card-alt","igloo","image","images","inbox","indent","industry","infinity","info","info-circle","italic","jedi","joint","journal-whills","kaaba","key","keyboard","khanda","kiss","kiss-beam","kiss-wink-heart","kiwi-bird","landmark","language","laptop","laptop-code","laptop-medical","laugh","laugh-beam","laugh-squint","laugh-wink","layer-group","leaf","lemon","less-than","less-than-equal","level-down-alt","level-up-alt","life-ring","lightbulb","link","lira-sign","list","list-alt","list-ol","list-ul","location-arrow","lock","lock-open","long-arrow-alt-down","long-arrow-alt-left","long-arrow-alt-right","long-arrow-alt-up","low-vision","luggage-cart","magic","magnet","mail-bulk","male","map","map-marked","map-marked-alt","map-marker","map-marker-alt","map-pin","map-signs","marker","mars","mars-double","mars-stroke","mars-stroke-h","mars-stroke-v","mask","medal","medkit","meh","meh-blank","meh-rolling-eyes","memory","menorah","mercury","meteor","microchip","microphone","microphone-alt","microphone-alt-slash","microphone-slash","microscope","minus","minus-circle","minus-square","mitten","mobile","mobile-alt","money-bill","money-bill-alt","money-bill-wave","money-bill-wave-alt","money-check","money-check-alt","monument","moon","mortar-pestle","mosque","motorcycle","mountain","mouse","mouse-pointer","mug-hot","music","network-wired","neuter","newspaper","not-equal","notes-medical","object-group","object-ungroup","oil-can","om","otter","outdent","pager","paint-brush","paint-roller","palette","pallet","paper-plane","paperclip","parachute-box","paragraph","parking","passport","pastafarianism","paste","pause","pause-circle","paw","peace","pen","pen-alt","pen-fancy","pen-nib","pen-square","pencil-alt","pencil-ruler","people-carry","pepper-hot","percent","percentage","person-booth","phone","phone-alt","phone-slash","phone-square","phone-square-alt","phone-volume","photo-video","piggy-bank","pills","pizza-slice","place-of-worship","plane","plane-arrival","plane-departure","play","play-circle","plug","plus","plus-circle","plus-square","podcast","poll","poll-h","poo","poo-storm","poop","portrait","pound-sign","power-off","pray","praying-hands","prescription","prescription-bottle","prescription-bottle-alt","print","procedures","project-diagram","puzzle-piece","qrcode","question","question-circle","quidditch","quote-left","quote-right","quran","radiation","radiation-alt","rainbow","random","receipt","record-vinyl","recycle","redo","redo-alt","registered","remove-format","reply","reply-all","republican","restroom","retweet","ribbon","ring","road","robot","rocket","route","rss","rss-square","ruble-sign","ruler","ruler-combined","ruler-horizontal","ruler-vertical","running","rupee-sign","sad-cry","sad-tear","satellite","satellite-dish","save","school","screwdriver","scroll","sd-card","search","search-dollar","search-location","search-minus","search-plus","seedling","server","shapes","share","share-alt","share-alt-square","share-square","shekel-sign","shield-alt","ship","shipping-fast","shoe-prints","shopping-bag","shopping-basket","shopping-cart","shower","shuttle-van","sign","sign-in-alt","sign-language","sign-out-alt","signal","signature","sim-card","sitemap","skating","skiing","skiing-nordic","skull","skull-crossbones","slash","sleigh","sliders-h","smile","smile-beam","smile-wink","smog","smoking","smoking-ban","sms","snowboarding","snowflake","snowman","snowplow","socks","solar-panel","sort","sort-alpha-down","sort-alpha-down-alt","sort-alpha-up","sort-alpha-up-alt","sort-amount-down","sort-amount-down-alt","sort-amount-up","sort-amount-up-alt","sort-down","sort-numeric-down","sort-numeric-down-alt","sort-numeric-up","sort-numeric-up-alt","sort-up","spa","space-shuttle","spell-check","spider","spinner","splotch","spray-can","square","square-full","square-root-alt","stamp","star","star-and-crescent","star-half","star-half-alt","star-of-david","star-of-life","step-backward","step-forward","stethoscope","sticky-note","stop","stop-circle","stopwatch","store","store-alt","stream","street-view","strikethrough","stroopwafel","subscript","subway","suitcase","suitcase-rolling","sun","superscript","surprise","swatchbook","swimmer","swimming-pool","synagogue","sync","sync-alt","syringe","table","table-tennis","tablet","tablet-alt","tablets","tachometer-alt","tag","tags","tape","tasks","taxi","teeth","teeth-open","temperature-high","temperature-low","tenge","terminal","text-height","text-width","th","th-large","th-list","theater-masks","thermometer","thermometer-empty","thermometer-full","thermometer-half","thermometer-quarter","thermometer-three-quarters","thumbs-down","thumbs-up","thumbtack","ticket-alt","times","times-circle","tint","tint-slash","tired","toggle-off","toggle-on","toilet","toilet-paper","toolbox","tools","tooth","torah","torii-gate","tractor","trademark","traffic-light","train","tram","transgender","transgender-alt","trash","trash-alt","trash-restore","trash-restore-alt","tree","trophy","truck","truck-loading","truck-monster","truck-moving","truck-pickup","tshirt","tty","tv","umbrella","umbrella-beach","underline","undo","undo-alt","universal-access","university","unlink","unlock","unlock-alt","upload","user","user-alt","user-alt-slash","user-astronaut","user-check","user-circle","user-clock","user-cog","user-edit","user-friends","user-graduate","user-injured","user-lock","user-md","user-minus","user-ninja","user-nurse","user-plus","user-secret","user-shield","user-slash","user-tag","user-tie","user-times","users","users-cog","utensil-spoon","utensils","vector-square","venus","venus-double","venus-mars","vial","vials","video","video-slash","vihara","voicemail","volleyball-ball","volume-down","volume-mute","volume-off","volume-up","vote-yea","vr-cardboard","walking","wallet","warehouse","water","wave-square","weight","weight-hanging","wheelchair","wifi","wind","window-close","window-maximize","window-minimize","window-restore","wine-bottle","wine-glass","wine-glass-alt","won-sign","wrench","x-ray","yen-sign","yin-yang"]');var Ji=l(90700),_i=l(8598),el=l(77013),tl=l(79318),nl=l(28832),pr=l(66618),al=l(7563),rl=l(86834),ol=l.n(rl),sl=l(98978),gr=l.n(sl),il=l(89793),ll=l.n(il),cl=l(58469),ul=Object.defineProperty,dl=Object.defineProperties,ml=Object.getOwnPropertyDescriptors,fr=Object.getOwnPropertySymbols,pl=Object.prototype.hasOwnProperty,gl=Object.prototype.propertyIsEnumerable,yr=(e,t,n)=>t in e?ul(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Zn=(e,t)=>{for(var n in t||(t={}))pl.call(t,n)&&yr(e,n,t[n]);if(fr)for(var n of fr(t))gl.call(t,n)&&yr(e,n,t[n]);return e},Sn=(e,t)=>dl(e,ml(t));const fl=()=>{const{components:e,componentsGroupedByCategory:t,contentTypes:n,isInDevelopmentMode:o,sortedContentTypesList:s,modifiedData:i,initialData:c}=(0,ve.Z)(),d=(0,R.useNotification)(),{trackUsage:m}=(0,R.useTracking)(),[f,g]=(0,a.useState)(""),{onOpenModalCreateSchema:p,onOpenModalEditCategory:h}=(0,xe.Z)(),C=gr()(Object.keys(t).map(N=>({name:N,title:N,isEditable:o,onClickEdit(J,de){J.stopPropagation(),M?h(de.name):E()},links:gr()(t[N].map(J=>({name:J.uid,to:`/plugins/${Y.Z}/component-categories/${N}/${J.uid}`,title:J.schema.displayName})),J=>J.title)})),N=>N.title),M=!Object.keys(n).some(N=>n[N].isTemporary===!0)&&!Object.keys(e).some(N=>e[N].isTemporary===!0)&&ll()(i,c),S=()=>{M?(m("willCreateContentType"),p({modalType:"contentType",kind:"collectionType",actionType:"create",forTarget:"contentType"})):E()},I=()=>{M?(m("willCreateSingleType"),p({modalType:"contentType",kind:"singleType",actionType:"create",forTarget:"contentType"})):E()},Z=()=>{M?(m("willCreateComponent"),p({modalType:"component",kind:null,actionType:"create",forTarget:"component"})):E()},E=()=>{d({type:"info",message:{id:`${(0,u.Z)("notification.info.creating.notSaved")}`,defaultMessage:"Please save your work before creating a new collection type or component"}})},v=s.filter(N=>N.visible),K=[{name:"models",title:{id:`${(0,u.Z)("menu.section.models.name")}`,defaultMessage:"Collection Types"},customLink:o&&{id:`${(0,u.Z)("button.model.create")}`,defaultMessage:"Create new collection type",onClick:S},links:v.filter(N=>N.kind==="collectionType")},{name:"singleTypes",title:{id:`${(0,u.Z)("menu.section.single-types.name")}`,defaultMessage:"Single Types"},customLink:o&&{id:`${(0,u.Z)("button.single-types.create")}`,defaultMessage:"Create new single type",onClick:I},links:v.filter(N=>N.kind==="singleType")},{name:"components",title:{id:`${(0,u.Z)("menu.section.components.name")}`,defaultMessage:"Components"},customLink:o&&{id:`${(0,u.Z)("button.component.create")}`,defaultMessage:"Create a new component",onClick:Z},links:C}],q=N=>(0,cl.ZP)(N,je()(f),{keys:[J=>je()(J.title)]});return{menu:(()=>K.map(N=>N.links.some(de=>!ol()(de.links))?Sn(Zn({},N),{links:N.links.map(de=>Sn(Zn({},de),{links:q(de.links)}))}):Sn(Zn({},N),{links:q(N.links)})))(),searchValue:f,onSearchChange:g}},yl=()=>{const{menu:e,searchValue:t,onSearchChange:n}=fl(),{formatMessage:o}=(0,D.useIntl)();return a.createElement(Ji.m,{ariaLabel:o({id:`${(0,u.Z)("plugin.name")}`,defaultMessage:"Content-Types Builder"})},a.createElement(_i.p,{searchable:!0,value:t,onClear:()=>n(""),onChange:s=>n(s.target.value),label:o({id:`${(0,u.Z)("plugin.name")}`,defaultMessage:"Content-Types Builder"}),searchLabel:o({id:"global.search",defaultMessage:"Search"})}),a.createElement(el.Z,null,e.map(s=>a.createElement(a.Fragment,{key:s.name},a.createElement(tl.D,{label:o({id:s.title.id,defaultMessage:s.title.defaultMessage}),collapsable:!0,badgeLabel:s.links.length.toString()},s.links.map(i=>i.links?a.createElement(nl.z,{key:i.name,label:Ze()(i.title)},i.links.map(c=>a.createElement(pr.E,{as:$.NavLink,to:c.to,active:c.active,key:c.name,isSubSectionChild:!0},Ze()(o({id:c.name,defaultMessage:c.title}))))):a.createElement(pr.E,{as:$.NavLink,to:i.to,active:i.active,key:i.name},Ze()(o({id:i.name,defaultMessage:i.title}))))),s.customLink&&a.createElement(j.x,{paddingLeft:7},a.createElement(al.A,{onClick:s.customLink.onClick,startIcon:a.createElement(Be.default,null),marginTop:2},o({id:s.customLink.id,defaultMessage:s.customLink.defaultMessage})))))))},hr=(0,a.lazy)(()=>l.e(5905).then(l.bind(l,94271))),hl=()=>{const{formatMessage:e}=(0,D.useIntl)(),t=e({id:`${Y.Z}.plugin.name`,defaultMessage:"Content Types Builder"}),{startSection:n}=(0,R.useGuidedTour)(),o=(0,a.useRef)(n);return(0,a.useEffect)(()=>{o.current&&o.current("contentTypeBuilder")},[]),a.createElement(R.CheckPagePermissions,{permissions:st.Z.main},a.createElement(be.Helmet,{title:t}),a.createElement(Hi,null,a.createElement(Ui,{allIcons:Qi},a.createElement(xt.A,{sideNav:a.createElement(yl,null)},a.createElement(a.Suspense,{fallback:a.createElement(R.LoadingIndicatorPage,null)},a.createElement($.Switch,null,a.createElement($.Route,{path:`/plugins/${Y.Z}/content-types/create-content-type`,component:hr}),a.createElement($.Route,{path:`/plugins/${Y.Z}/content-types/:uid`,component:hr}),a.createElement($.Route,{path:`/plugins/${Y.Z}/component-categories/:categoryUid`,component:Yi})))))))}},92318:(Ue,ce,l)=>{l.d(ce,{Z:()=>be});var a=l(25158);const be=D=>`${a.Z}.${D}`}}]);
