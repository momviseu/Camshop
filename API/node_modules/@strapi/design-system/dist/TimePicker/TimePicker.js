var _ = Object.defineProperty;
var u = Object.getOwnPropertySymbols;
var g = Object.prototype.hasOwnProperty, y = Object.prototype.propertyIsEnumerable;
var b = (t, o, r) => o in t ? _(t, o, { enumerable: !0, configurable: !0, writable: !0, value: r }) : t[o] = r, v = (t, o) => {
  for (var r in o || (o = {}))
    g.call(o, r) && b(t, r, o[r]);
  if (u)
    for (var r of u(o))
      y.call(o, r) && b(t, r, o[r]);
  return t;
};
var T = (t, o) => {
  var r = {};
  for (var n in t)
    g.call(t, n) && o.indexOf(n) < 0 && (r[n] = t[n]);
  if (t != null && u)
    for (var n of u(t))
      o.indexOf(n) < 0 && y.call(t, n) && (r[n] = t[n]);
  return r;
};
import m from "react";
import e from "prop-types";
import j from "@strapi/icons/Clock";
import H from "styled-components";
import { sizes as L } from "../themes/sizes.js";
import { Select as S } from "../Select/Select.js";
import { Option as V } from "../Select/Option.js";
import "../Select/OptGroup.js";
import "../Select/MultiSelectNested.js";
import "../Select/SelectList.js";
import { useId as W } from "../helpers/useId.js";
const A = H.div`
  display: flex;
  align-items: center;
  svg {
    height: 1rem;
    width: 1rem;
  }

  svg path {
    fill: ${({ theme: t }) => t.colors.neutral500};
  }
`, O = (D) => {
  var f = D, {
    disabled: t,
    error: o,
    hint: r,
    id: n,
    onClear: $,
    onChange: C,
    value: c,
    clearLabel: M,
    label: k,
    selectButtonTitle: E,
    step: I,
    size: z
  } = f, P = T(f, [
    "disabled",
    "error",
    "hint",
    "id",
    "onClear",
    "onChange",
    "value",
    "clearLabel",
    "label",
    "selectButtonTitle",
    "step",
    "size"
  ]);
  const R = W("timepicker", n), q = 24, s = [];
  let l = 0;
  for (let i = 0; i < q; i++)
    for (l = 0; l < 60; )
      s.push(`${i < 10 ? `0${i}` : i}:${l < 10 ? `0${l}` : l}`), l += I;
  const w = () => {
    const i = c.split(":")[0], h = c.split(":")[1], x = s.reduce((a, d) => {
      const p = d.split(":")[0];
      return Math.abs(p - i) < Math.abs(a - i) ? p : a;
    }, s[0].split(":")[0]), B = s.reduce((a, d) => {
      const p = d.split(":")[1];
      return Math.abs(p - h) < Math.abs(a - h) ? p : a;
    }, s[0].split(":")[1]);
    return `${x}:${B}`;
  };
  return /* @__PURE__ */ m.createElement(S, v({
    id: R,
    label: k,
    placeholder: "--:--",
    hint: r,
    onClear: $,
    clearLabel: M,
    error: o,
    value: c ? w() : null,
    size: z,
    onChange: C,
    disabled: t,
    selectButtonTitle: E,
    startIcon: /* @__PURE__ */ m.createElement(A, null, /* @__PURE__ */ m.createElement(j, null))
  }, P), s.map((i) => /* @__PURE__ */ m.createElement(V, {
    value: i,
    key: i
  }, i)));
};
O.defaultProps = {
  disabled: !1,
  error: void 0,
  hint: void 0,
  id: void 0,
  label: void 0,
  onClear: void 0,
  size: "M",
  selectButtonTitle: void 0,
  step: 15,
  value: void 0
};
O.propTypes = {
  clearLabel: e.string.isRequired,
  disabled: e.bool,
  error: e.oneOfType([e.string, e.bool]),
  hint: e.oneOfType([e.string, e.node, e.arrayOf(e.node)]),
  id: e.oneOfType([e.string, e.number]),
  label: e.string,
  onChange: e.func.isRequired,
  onClear: e.func,
  selectButtonTitle: e.string,
  size: e.oneOf(Object.keys(L.input)),
  step: e.number,
  value: e.oneOfType([
    e.arrayOf(e.oneOfType([e.string, e.number])),
    e.string,
    e.number
  ])
};
export {
  O as TimePicker
};
